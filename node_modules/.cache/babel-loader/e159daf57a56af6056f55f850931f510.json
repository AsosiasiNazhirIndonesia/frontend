{"ast":null,"code":"var vt = Object.create;\nvar Y = Object.defineProperty,\n  Tt = Object.defineProperties,\n  It = Object.getOwnPropertyDescriptor,\n  xt = Object.getOwnPropertyDescriptors,\n  Pt = Object.getOwnPropertyNames,\n  Se = Object.getOwnPropertySymbols,\n  bt = Object.getPrototypeOf,\n  Ce = Object.prototype.hasOwnProperty,\n  $t = Object.prototype.propertyIsEnumerable;\nvar Oe = (n, e, t) => e in n ? Y(n, e, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: t\n  }) : n[e] = t,\n  Z = (n, e) => {\n    for (var t in e || (e = {})) Ce.call(e, t) && Oe(n, t, e[t]);\n    if (Se) for (var t of Se(e)) $t.call(e, t) && Oe(n, t, e[t]);\n    return n;\n  },\n  _e = (n, e) => Tt(n, xt(e));\nvar Mt = (n, e) => () => (e || n((e = {\n    exports: {}\n  }).exports, e), e.exports),\n  Nt = (n, e) => {\n    for (var t in e) Y(n, t, {\n      get: e[t],\n      enumerable: !0\n    });\n  },\n  wt = (n, e, t, r) => {\n    if (e && typeof e == \"object\" || typeof e == \"function\") for (let o of Pt(e)) !Ce.call(n, o) && o !== t && Y(n, o, {\n      get: () => e[o],\n      enumerable: !(r = It(e, o)) || r.enumerable\n    });\n    return n;\n  };\nvar At = (n, e, t) => (t = n != null ? vt(bt(n)) : {}, wt(e || !n || !n.__esModule ? Y(t, \"default\", {\n  value: n,\n  enumerable: !0\n}) : t, n));\nvar x = (n, e, t) => new Promise((r, o) => {\n  var s = c => {\n      try {\n        i(t.next(c));\n      } catch (p) {\n        o(p);\n      }\n    },\n    a = c => {\n      try {\n        i(t.throw(c));\n      } catch (p) {\n        o(p);\n      }\n    },\n    i = c => c.done ? r(c.value) : Promise.resolve(c.value).then(s, a);\n  i((t = t.apply(n, e)).next());\n});\nvar ct = Mt((gr, Pe) => {\n  \"use strict\";\n\n  var $n = Object.prototype.hasOwnProperty,\n    T = \"~\";\n  function B() {}\n  Object.create && (B.prototype = Object.create(null), new B().__proto__ || (T = !1));\n  function Mn(n, e, t) {\n    this.fn = n, this.context = e, this.once = t || !1;\n  }\n  function at(n, e, t, r, o) {\n    if (typeof t != \"function\") throw new TypeError(\"The listener must be a function\");\n    var s = new Mn(t, r || n, o),\n      a = T ? T + e : e;\n    return n._events[a] ? n._events[a].fn ? n._events[a] = [n._events[a], s] : n._events[a].push(s) : (n._events[a] = s, n._eventsCount++), n;\n  }\n  function ie(n, e) {\n    --n._eventsCount === 0 ? n._events = new B() : delete n._events[e];\n  }\n  function R() {\n    this._events = new B(), this._eventsCount = 0;\n  }\n  R.prototype.eventNames = function () {\n    var e = [],\n      t,\n      r;\n    if (this._eventsCount === 0) return e;\n    for (r in t = this._events) $n.call(t, r) && e.push(T ? r.slice(1) : r);\n    return Object.getOwnPropertySymbols ? e.concat(Object.getOwnPropertySymbols(t)) : e;\n  };\n  R.prototype.listeners = function (e) {\n    var t = T ? T + e : e,\n      r = this._events[t];\n    if (!r) return [];\n    if (r.fn) return [r.fn];\n    for (var o = 0, s = r.length, a = new Array(s); o < s; o++) a[o] = r[o].fn;\n    return a;\n  };\n  R.prototype.listenerCount = function (e) {\n    var t = T ? T + e : e,\n      r = this._events[t];\n    return r ? r.fn ? 1 : r.length : 0;\n  };\n  R.prototype.emit = function (e, t, r, o, s, a) {\n    var i = T ? T + e : e;\n    if (!this._events[i]) return !1;\n    var c = this._events[i],\n      p = arguments.length,\n      l,\n      u;\n    if (c.fn) {\n      switch (c.once && this.removeListener(e, c.fn, void 0, !0), p) {\n        case 1:\n          return c.fn.call(c.context), !0;\n        case 2:\n          return c.fn.call(c.context, t), !0;\n        case 3:\n          return c.fn.call(c.context, t, r), !0;\n        case 4:\n          return c.fn.call(c.context, t, r, o), !0;\n        case 5:\n          return c.fn.call(c.context, t, r, o, s), !0;\n        case 6:\n          return c.fn.call(c.context, t, r, o, s, a), !0;\n      }\n      for (u = 1, l = new Array(p - 1); u < p; u++) l[u - 1] = arguments[u];\n      c.fn.apply(c.context, l);\n    } else {\n      var I = c.length,\n        A;\n      for (u = 0; u < I; u++) switch (c[u].once && this.removeListener(e, c[u].fn, void 0, !0), p) {\n        case 1:\n          c[u].fn.call(c[u].context);\n          break;\n        case 2:\n          c[u].fn.call(c[u].context, t);\n          break;\n        case 3:\n          c[u].fn.call(c[u].context, t, r);\n          break;\n        case 4:\n          c[u].fn.call(c[u].context, t, r, o);\n          break;\n        default:\n          if (!l) for (A = 1, l = new Array(p - 1); A < p; A++) l[A - 1] = arguments[A];\n          c[u].fn.apply(c[u].context, l);\n      }\n    }\n    return !0;\n  };\n  R.prototype.on = function (e, t, r) {\n    return at(this, e, t, r, !1);\n  };\n  R.prototype.once = function (e, t, r) {\n    return at(this, e, t, r, !0);\n  };\n  R.prototype.removeListener = function (e, t, r, o) {\n    var s = T ? T + e : e;\n    if (!this._events[s]) return this;\n    if (!t) return ie(this, s), this;\n    var a = this._events[s];\n    if (a.fn) a.fn === t && (!o || a.once) && (!r || a.context === r) && ie(this, s);else {\n      for (var i = 0, c = [], p = a.length; i < p; i++) (a[i].fn !== t || o && !a[i].once || r && a[i].context !== r) && c.push(a[i]);\n      c.length ? this._events[s] = c.length === 1 ? c[0] : c : ie(this, s);\n    }\n    return this;\n  };\n  R.prototype.removeAllListeners = function (e) {\n    var t;\n    return e ? (t = T ? T + e : e, this._events[t] && ie(this, t)) : (this._events = new B(), this._eventsCount = 0), this;\n  };\n  R.prototype.off = R.prototype.removeListener;\n  R.prototype.addListener = R.prototype.on;\n  R.prefixed = T;\n  R.EventEmitter = R;\n  typeof Pe < \"u\" && (Pe.exports = R);\n});\nfunction Lt(n) {\n  let e = {\n    exports: {}\n  };\n  return n(e, e.exports), e.exports;\n}\nvar St = Number.MAX_SAFE_INTEGER || 9007199254740991;\nvar Ie = {\n    SEMVER_SPEC_VERSION: \"2.0.0\",\n    MAX_LENGTH: 256,\n    MAX_SAFE_INTEGER: St,\n    MAX_SAFE_COMPONENT_LENGTH: 16\n  },\n  Ot = typeof process == \"object\" && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG) ? function () {\n    for (var _len = arguments.length, n = new Array(_len), _key = 0; _key < _len; _key++) {\n      n[_key] = arguments[_key];\n    }\n    return console.error(\"SEMVER\", ...n);\n  } : () => {},\n  d = Ot,\n  W = Lt(function (n, e) {\n    let {\n        MAX_SAFE_COMPONENT_LENGTH: t\n      } = Ie,\n      r = (e = n.exports = {}).re = [],\n      o = e.src = [],\n      s = e.t = {},\n      a = 0,\n      i = (c, p, l) => {\n        let u = a++;\n        d(u, p), s[c] = u, o[u] = p, r[u] = new RegExp(p, l ? \"g\" : void 0);\n      };\n    i(\"NUMERICIDENTIFIER\", \"0|[1-9]\\\\d*\"), i(\"NUMERICIDENTIFIERLOOSE\", \"[0-9]+\"), i(\"NONNUMERICIDENTIFIER\", \"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"), i(\"MAINVERSION\", `(${o[s.NUMERICIDENTIFIER]})\\\\.(${o[s.NUMERICIDENTIFIER]})\\\\.(${o[s.NUMERICIDENTIFIER]})`), i(\"MAINVERSIONLOOSE\", `(${o[s.NUMERICIDENTIFIERLOOSE]})\\\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`), i(\"PRERELEASEIDENTIFIER\", `(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`), i(\"PRERELEASEIDENTIFIERLOOSE\", `(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`), i(\"PRERELEASE\", `(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\\\.${o[s.PRERELEASEIDENTIFIER]})*))`), i(\"PRERELEASELOOSE\", `(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`), i(\"BUILDIDENTIFIER\", \"[0-9A-Za-z-]+\"), i(\"BUILD\", `(?:\\\\+(${o[s.BUILDIDENTIFIER]}(?:\\\\.${o[s.BUILDIDENTIFIER]})*))`), i(\"FULLPLAIN\", `v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`), i(\"FULL\", `^${o[s.FULLPLAIN]}$`), i(\"LOOSEPLAIN\", `[v=\\\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`), i(\"LOOSE\", `^${o[s.LOOSEPLAIN]}$`), i(\"GTLT\", \"((?:<|>)?=?)\"), i(\"XRANGEIDENTIFIERLOOSE\", `${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`), i(\"XRANGEIDENTIFIER\", `${o[s.NUMERICIDENTIFIER]}|x|X|\\\\*`), i(\"XRANGEPLAIN\", `[v=\\\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\\\.(${o[s.XRANGEIDENTIFIER]})(?:\\\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`), i(\"XRANGEPLAINLOOSE\", `[v=\\\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`), i(\"XRANGE\", `^${o[s.GTLT]}\\\\s*${o[s.XRANGEPLAIN]}$`), i(\"XRANGELOOSE\", `^${o[s.GTLT]}\\\\s*${o[s.XRANGEPLAINLOOSE]}$`), i(\"COERCE\", `(^|[^\\\\d])(\\\\d{1,${t}})(?:\\\\.(\\\\d{1,${t}}))?(?:\\\\.(\\\\d{1,${t}}))?(?:$|[^\\\\d])`), i(\"COERCERTL\", o[s.COERCE], !0), i(\"LONETILDE\", \"(?:~>?)\"), i(\"TILDETRIM\", `(\\\\s*)${o[s.LONETILDE]}\\\\s+`, !0), e.tildeTrimReplace = \"$1~\", i(\"TILDE\", `^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`), i(\"TILDELOOSE\", `^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`), i(\"LONECARET\", \"(?:\\\\^)\"), i(\"CARETTRIM\", `(\\\\s*)${o[s.LONECARET]}\\\\s+`, !0), e.caretTrimReplace = \"$1^\", i(\"CARET\", `^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`), i(\"CARETLOOSE\", `^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`), i(\"COMPARATORLOOSE\", `^${o[s.GTLT]}\\\\s*(${o[s.LOOSEPLAIN]})$|^$`), i(\"COMPARATOR\", `^${o[s.GTLT]}\\\\s*(${o[s.FULLPLAIN]})$|^$`), i(\"COMPARATORTRIM\", `(\\\\s*)${o[s.GTLT]}\\\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`, !0), e.comparatorTrimReplace = \"$1$2$3\", i(\"HYPHENRANGE\", `^\\\\s*(${o[s.XRANGEPLAIN]})\\\\s+-\\\\s+(${o[s.XRANGEPLAIN]})\\\\s*$`), i(\"HYPHENRANGELOOSE\", `^\\\\s*(${o[s.XRANGEPLAINLOOSE]})\\\\s+-\\\\s+(${o[s.XRANGEPLAINLOOSE]})\\\\s*$`), i(\"STAR\", \"(<|>)?=?\\\\s*\\\\*\"), i(\"GTE0\", \"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"), i(\"GTE0PRE\", \"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\");\n  }),\n  De = /^[0-9]+$/,\n  We = (n, e) => {\n    let t = De.test(n),\n      r = De.test(e);\n    return t && r && (n = +n, e = +e), n === e ? 0 : t && !r ? -1 : r && !t ? 1 : n < e ? -1 : 1;\n  },\n  Ct = (n, e) => We(e, n),\n  _t = {\n    compareIdentifiers: We,\n    rcompareIdentifiers: Ct\n  },\n  {\n    MAX_LENGTH: ke,\n    MAX_SAFE_INTEGER: Q\n  } = Ie,\n  {\n    re: qe,\n    t: Je\n  } = W,\n  {\n    compareIdentifiers: F\n  } = _t,\n  h = class {\n    constructor(e, t) {\n      if (t && typeof t == \"object\" || (t = {\n        loose: !!t,\n        includePrerelease: !1\n      }), e instanceof h) {\n        if (e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease) return e;\n        e = e.version;\n      } else if (typeof e != \"string\") throw new TypeError(`Invalid Version: ${e}`);\n      if (e.length > ke) throw new TypeError(`version is longer than ${ke} characters`);\n      d(\"SemVer\", e, t), this.options = t, this.loose = !!t.loose, this.includePrerelease = !!t.includePrerelease;\n      let r = e.trim().match(t.loose ? qe[Je.LOOSE] : qe[Je.FULL]);\n      if (!r) throw new TypeError(`Invalid Version: ${e}`);\n      if (this.raw = e, this.major = +r[1], this.minor = +r[2], this.patch = +r[3], this.major > Q || this.major < 0) throw new TypeError(\"Invalid major version\");\n      if (this.minor > Q || this.minor < 0) throw new TypeError(\"Invalid minor version\");\n      if (this.patch > Q || this.patch < 0) throw new TypeError(\"Invalid patch version\");\n      r[4] ? this.prerelease = r[4].split(\".\").map(o => {\n        if (/^[0-9]+$/.test(o)) {\n          let s = +o;\n          if (s >= 0 && s < Q) return s;\n        }\n        return o;\n      }) : this.prerelease = [], this.build = r[5] ? r[5].split(\".\") : [], this.format();\n    }\n    format() {\n      return this.version = `${this.major}.${this.minor}.${this.patch}`, this.prerelease.length && (this.version += `-${this.prerelease.join(\".\")}`), this.version;\n    }\n    toString() {\n      return this.version;\n    }\n    compare(e) {\n      if (d(\"SemVer.compare\", this.version, this.options, e), !(e instanceof h)) {\n        if (typeof e == \"string\" && e === this.version) return 0;\n        e = new h(e, this.options);\n      }\n      return e.version === this.version ? 0 : this.compareMain(e) || this.comparePre(e);\n    }\n    compareMain(e) {\n      return e instanceof h || (e = new h(e, this.options)), F(this.major, e.major) || F(this.minor, e.minor) || F(this.patch, e.patch);\n    }\n    comparePre(e) {\n      if (e instanceof h || (e = new h(e, this.options)), this.prerelease.length && !e.prerelease.length) return -1;\n      if (!this.prerelease.length && e.prerelease.length) return 1;\n      if (!this.prerelease.length && !e.prerelease.length) return 0;\n      let t = 0;\n      do {\n        let r = this.prerelease[t],\n          o = e.prerelease[t];\n        if (d(\"prerelease compare\", t, r, o), r === void 0 && o === void 0) return 0;\n        if (o === void 0) return 1;\n        if (r === void 0) return -1;\n        if (r !== o) return F(r, o);\n      } while (++t);\n    }\n    compareBuild(e) {\n      e instanceof h || (e = new h(e, this.options));\n      let t = 0;\n      do {\n        let r = this.build[t],\n          o = e.build[t];\n        if (d(\"prerelease compare\", t, r, o), r === void 0 && o === void 0) return 0;\n        if (o === void 0) return 1;\n        if (r === void 0) return -1;\n        if (r !== o) return F(r, o);\n      } while (++t);\n    }\n    inc(e, t) {\n      switch (e) {\n        case \"premajor\":\n          this.prerelease.length = 0, this.patch = 0, this.minor = 0, this.major++, this.inc(\"pre\", t);\n          break;\n        case \"preminor\":\n          this.prerelease.length = 0, this.patch = 0, this.minor++, this.inc(\"pre\", t);\n          break;\n        case \"prepatch\":\n          this.prerelease.length = 0, this.inc(\"patch\", t), this.inc(\"pre\", t);\n          break;\n        case \"prerelease\":\n          this.prerelease.length === 0 && this.inc(\"patch\", t), this.inc(\"pre\", t);\n          break;\n        case \"major\":\n          this.minor === 0 && this.patch === 0 && this.prerelease.length !== 0 || this.major++, this.minor = 0, this.patch = 0, this.prerelease = [];\n          break;\n        case \"minor\":\n          this.patch === 0 && this.prerelease.length !== 0 || this.minor++, this.patch = 0, this.prerelease = [];\n          break;\n        case \"patch\":\n          this.prerelease.length === 0 && this.patch++, this.prerelease = [];\n          break;\n        case \"pre\":\n          if (this.prerelease.length === 0) this.prerelease = [0];else {\n            let r = this.prerelease.length;\n            for (; --r >= 0;) typeof this.prerelease[r] == \"number\" && (this.prerelease[r]++, r = -2);\n            r === -1 && this.prerelease.push(0);\n          }\n          t && (this.prerelease[0] === t ? isNaN(this.prerelease[1]) && (this.prerelease = [t, 0]) : this.prerelease = [t, 0]);\n          break;\n        default:\n          throw new Error(`invalid increment argument: ${e}`);\n      }\n      return this.format(), this.raw = this.version, this;\n    }\n  },\n  Dt = (n, e, t) => new h(n, t).compare(new h(e, t)),\n  k = Dt,\n  kt = (n, e, t) => k(n, e, t) === 0,\n  qt = kt,\n  Jt = (n, e, t) => k(n, e, t) !== 0,\n  Ut = Jt,\n  Gt = (n, e, t) => k(n, e, t) > 0,\n  Kt = Gt,\n  Ft = (n, e, t) => k(n, e, t) >= 0,\n  jt = Ft,\n  Wt = (n, e, t) => k(n, e, t) < 0,\n  Xt = Wt,\n  Bt = (n, e, t) => k(n, e, t) <= 0,\n  Ht = Bt,\n  Vt = (n, e, t, r) => {\n    switch (e) {\n      case \"===\":\n        return typeof n == \"object\" && (n = n.version), typeof t == \"object\" && (t = t.version), n === t;\n      case \"!==\":\n        return typeof n == \"object\" && (n = n.version), typeof t == \"object\" && (t = t.version), n !== t;\n      case \"\":\n      case \"=\":\n      case \"==\":\n        return qt(n, t, r);\n      case \"!=\":\n        return Ut(n, t, r);\n      case \">\":\n        return Kt(n, t, r);\n      case \">=\":\n        return jt(n, t, r);\n      case \"<\":\n        return Xt(n, t, r);\n      case \"<=\":\n        return Ht(n, t, r);\n      default:\n        throw new TypeError(`Invalid operator: ${e}`);\n    }\n  },\n  Te = Vt,\n  j = Symbol(\"SemVer ANY\"),\n  L = class {\n    static get ANY() {\n      return j;\n    }\n    constructor(e, t) {\n      if (t && typeof t == \"object\" || (t = {\n        loose: !!t,\n        includePrerelease: !1\n      }), e instanceof L) {\n        if (e.loose === !!t.loose) return e;\n        e = e.value;\n      }\n      d(\"comparator\", e, t), this.options = t, this.loose = !!t.loose, this.parse(e), this.semver === j ? this.value = \"\" : this.value = this.operator + this.semver.version, d(\"comp\", this);\n    }\n    parse(e) {\n      let t = this.options.loose ? Ue[Ge.COMPARATORLOOSE] : Ue[Ge.COMPARATOR],\n        r = e.match(t);\n      if (!r) throw new TypeError(`Invalid comparator: ${e}`);\n      this.operator = r[1] !== void 0 ? r[1] : \"\", this.operator === \"=\" && (this.operator = \"\"), r[2] ? this.semver = new h(r[2], this.options.loose) : this.semver = j;\n    }\n    toString() {\n      return this.value;\n    }\n    test(e) {\n      if (d(\"Comparator.test\", e, this.options.loose), this.semver === j || e === j) return !0;\n      if (typeof e == \"string\") try {\n        e = new h(e, this.options);\n      } catch (t) {\n        return !1;\n      }\n      return Te(e, this.operator, this.semver, this.options);\n    }\n    intersects(e, t) {\n      if (!(e instanceof L)) throw new TypeError(\"a Comparator is required\");\n      if (t && typeof t == \"object\" || (t = {\n        loose: !!t,\n        includePrerelease: !1\n      }), this.operator === \"\") return this.value === \"\" || new $(e.value, t).test(this.value);\n      if (e.operator === \"\") return e.value === \"\" || new $(this.value, t).test(e.semver);\n      let r = !(this.operator !== \">=\" && this.operator !== \">\" || e.operator !== \">=\" && e.operator !== \">\"),\n        o = !(this.operator !== \"<=\" && this.operator !== \"<\" || e.operator !== \"<=\" && e.operator !== \"<\"),\n        s = this.semver.version === e.semver.version,\n        a = !(this.operator !== \">=\" && this.operator !== \"<=\" || e.operator !== \">=\" && e.operator !== \"<=\"),\n        i = Te(this.semver, \"<\", e.semver, t) && (this.operator === \">=\" || this.operator === \">\") && (e.operator === \"<=\" || e.operator === \"<\"),\n        c = Te(this.semver, \">\", e.semver, t) && (this.operator === \"<=\" || this.operator === \"<\") && (e.operator === \">=\" || e.operator === \">\");\n      return r || o || s && a || i || c;\n    }\n  },\n  {\n    re: Ue,\n    t: Ge\n  } = W,\n  $ = class {\n    constructor(e, t) {\n      if (t && typeof t == \"object\" || (t = {\n        loose: !!t,\n        includePrerelease: !1\n      }), e instanceof $) return e.loose === !!t.loose && e.includePrerelease === !!t.includePrerelease ? e : new $(e.raw, t);\n      if (e instanceof L) return this.raw = e.value, this.set = [[e]], this.format(), this;\n      if (this.options = t, this.loose = !!t.loose, this.includePrerelease = !!t.includePrerelease, this.raw = e, this.set = e.split(/\\s*\\|\\|\\s*/).map(r => this.parseRange(r.trim())).filter(r => r.length), !this.set.length) throw new TypeError(`Invalid SemVer Range: ${e}`);\n      this.format();\n    }\n    format() {\n      return this.range = this.set.map(e => e.join(\" \").trim()).join(\"||\").trim(), this.range;\n    }\n    toString() {\n      return this.range;\n    }\n    parseRange(e) {\n      let {\n        loose: t\n      } = this.options;\n      e = e.trim();\n      let r = t ? g[y.HYPHENRANGELOOSE] : g[y.HYPHENRANGE];\n      e = e.replace(r, ln(this.options.includePrerelease)), d(\"hyphen replace\", e), e = e.replace(g[y.COMPARATORTRIM], zt), d(\"comparator trim\", e, g[y.COMPARATORTRIM]), e = (e = (e = e.replace(g[y.TILDETRIM], Yt)).replace(g[y.CARETTRIM], Zt)).split(/\\s+/).join(\" \");\n      let o = t ? g[y.COMPARATORLOOSE] : g[y.COMPARATOR];\n      return e.split(\" \").map(s => Qt(s, this.options)).join(\" \").split(/\\s+/).map(s => cn(s, this.options)).filter(this.options.loose ? s => !!s.match(o) : () => !0).map(s => new L(s, this.options));\n    }\n    intersects(e, t) {\n      if (!(e instanceof $)) throw new TypeError(\"a Range is required\");\n      return this.set.some(r => Ke(r, t) && e.set.some(o => Ke(o, t) && r.every(s => o.every(a => s.intersects(a, t)))));\n    }\n    test(e) {\n      if (!e) return !1;\n      if (typeof e == \"string\") try {\n        e = new h(e, this.options);\n      } catch (t) {\n        return !1;\n      }\n      for (let t = 0; t < this.set.length; t++) if (pn(this.set[t], e, this.options)) return !0;\n      return !1;\n    }\n  },\n  {\n    re: g,\n    t: y,\n    comparatorTrimReplace: zt,\n    tildeTrimReplace: Yt,\n    caretTrimReplace: Zt\n  } = W,\n  Ke = (n, e) => {\n    let t = !0,\n      r = n.slice(),\n      o = r.pop();\n    for (; t && r.length;) t = r.every(s => o.intersects(s, e)), o = r.pop();\n    return t;\n  },\n  Qt = (n, e) => (d(\"comp\", n, e), n = nn(n, e), d(\"caret\", n), n = en(n, e), d(\"tildes\", n), n = sn(n, e), d(\"xrange\", n), n = an(n, e), d(\"stars\", n), n),\n  v = n => !n || n.toLowerCase() === \"x\" || n === \"*\",\n  en = (n, e) => n.trim().split(/\\s+/).map(t => tn(t, e)).join(\" \"),\n  tn = (n, e) => {\n    let t = e.loose ? g[y.TILDELOOSE] : g[y.TILDE];\n    return n.replace(t, (r, o, s, a, i) => {\n      let c;\n      return d(\"tilde\", n, r, o, s, a, i), v(o) ? c = \"\" : v(s) ? c = `>=${o}.0.0 <${+o + 1}.0.0-0` : v(a) ? c = `>=${o}.${s}.0 <${o}.${+s + 1}.0-0` : i ? (d(\"replaceTilde pr\", i), c = `>=${o}.${s}.${a}-${i} <${o}.${+s + 1}.0-0`) : c = `>=${o}.${s}.${a} <${o}.${+s + 1}.0-0`, d(\"tilde return\", c), c;\n    });\n  },\n  nn = (n, e) => n.trim().split(/\\s+/).map(t => rn(t, e)).join(\" \"),\n  rn = (n, e) => {\n    d(\"caret\", n, e);\n    let t = e.loose ? g[y.CARETLOOSE] : g[y.CARET],\n      r = e.includePrerelease ? \"-0\" : \"\";\n    return n.replace(t, (o, s, a, i, c) => {\n      let p;\n      return d(\"caret\", n, o, s, a, i, c), v(s) ? p = \"\" : v(a) ? p = `>=${s}.0.0${r} <${+s + 1}.0.0-0` : v(i) ? p = s === \"0\" ? `>=${s}.${a}.0${r} <${s}.${+a + 1}.0-0` : `>=${s}.${a}.0${r} <${+s + 1}.0.0-0` : c ? (d(\"replaceCaret pr\", c), p = s === \"0\" ? a === \"0\" ? `>=${s}.${a}.${i}-${c} <${s}.${a}.${+i + 1}-0` : `>=${s}.${a}.${i}-${c} <${s}.${+a + 1}.0-0` : `>=${s}.${a}.${i}-${c} <${+s + 1}.0.0-0`) : (d(\"no pr\"), p = s === \"0\" ? a === \"0\" ? `>=${s}.${a}.${i}${r} <${s}.${a}.${+i + 1}-0` : `>=${s}.${a}.${i}${r} <${s}.${+a + 1}.0-0` : `>=${s}.${a}.${i} <${+s + 1}.0.0-0`), d(\"caret return\", p), p;\n    });\n  },\n  sn = (n, e) => (d(\"replaceXRanges\", n, e), n.split(/\\s+/).map(t => on(t, e)).join(\" \")),\n  on = (n, e) => {\n    n = n.trim();\n    let t = e.loose ? g[y.XRANGELOOSE] : g[y.XRANGE];\n    return n.replace(t, (r, o, s, a, i, c) => {\n      d(\"xRange\", n, r, o, s, a, i, c);\n      let p = v(s),\n        l = p || v(a),\n        u = l || v(i),\n        I = u;\n      return o === \"=\" && I && (o = \"\"), c = e.includePrerelease ? \"-0\" : \"\", p ? r = o === \">\" || o === \"<\" ? \"<0.0.0-0\" : \"*\" : o && I ? (l && (a = 0), i = 0, o === \">\" ? (o = \">=\", l ? (s = +s + 1, a = 0, i = 0) : (a = +a + 1, i = 0)) : o === \"<=\" && (o = \"<\", l ? s = +s + 1 : a = +a + 1), o === \"<\" && (c = \"-0\"), r = `${o + s}.${a}.${i}${c}`) : l ? r = `>=${s}.0.0${c} <${+s + 1}.0.0-0` : u && (r = `>=${s}.${a}.0${c} <${s}.${+a + 1}.0-0`), d(\"xRange return\", r), r;\n    });\n  },\n  an = (n, e) => (d(\"replaceStars\", n, e), n.trim().replace(g[y.STAR], \"\")),\n  cn = (n, e) => (d(\"replaceGTE0\", n, e), n.trim().replace(g[e.includePrerelease ? y.GTE0PRE : y.GTE0], \"\")),\n  ln = n => (e, t, r, o, s, a, i, c, p, l, u, I, A) => `${t = v(r) ? \"\" : v(o) ? `>=${r}.0.0${n ? \"-0\" : \"\"}` : v(s) ? `>=${r}.${o}.0${n ? \"-0\" : \"\"}` : a ? `>=${t}` : `>=${t}${n ? \"-0\" : \"\"}`} ${c = v(p) ? \"\" : v(l) ? `<${+p + 1}.0.0-0` : v(u) ? `<${p}.${+l + 1}.0-0` : I ? `<=${p}.${l}.${u}-${I}` : n ? `<${p}.${l}.${+u + 1}-0` : `<=${c}`}`.trim(),\n  pn = (n, e, t) => {\n    for (let r = 0; r < n.length; r++) if (!n[r].test(e)) return !1;\n    if (e.prerelease.length && !t.includePrerelease) {\n      for (let r = 0; r < n.length; r++) if (d(n[r].semver), n[r].semver !== L.ANY && n[r].semver.prerelease.length > 0) {\n        let o = n[r].semver;\n        if (o.major === e.major && o.minor === e.minor && o.patch === e.patch) return !0;\n      }\n      return !1;\n    }\n    return !0;\n  },\n  Xe = (n, e, t) => {\n    try {\n      e = new $(e, t);\n    } catch (r) {\n      return !1;\n    }\n    return e.test(n);\n  };\nvar {\n    MAX_LENGTH: un\n  } = Ie,\n  {\n    re: Fe,\n    t: je\n  } = W,\n  dn = (n, e) => {\n    if (e && typeof e == \"object\" || (e = {\n      loose: !!e,\n      includePrerelease: !1\n    }), n instanceof h) return n;\n    if (typeof n != \"string\" || n.length > un || !(e.loose ? Fe[je.LOOSE] : Fe[je.FULL]).test(n)) return null;\n    try {\n      return new h(n, e);\n    } catch (t) {\n      return null;\n    }\n  },\n  mn = dn,\n  {\n    re: ee,\n    t: te\n  } = W,\n  Be = (n, e) => {\n    if (n instanceof h) return n;\n    if (typeof n == \"number\" && (n = String(n)), typeof n != \"string\") return null;\n    let t = null;\n    if ((e = e || {}).rtl) {\n      let r;\n      for (; (r = ee[te.COERCERTL].exec(n)) && (!t || t.index + t[0].length !== n.length);) t && r.index + r[0].length === t.index + t[0].length || (t = r), ee[te.COERCERTL].lastIndex = r.index + r[1].length + r[2].length;\n      ee[te.COERCERTL].lastIndex = -1;\n    } else t = n.match(ee[te.COERCE]);\n    return t === null ? null : mn(`${t[2]}.${t[3] || \"0\"}.${t[4] || \"0\"}`, e);\n  };\nfunction En(n) {\n  return String.fromCharCode(parseInt(n.slice(1), 16));\n}\nfunction hn(n) {\n  return `%${`00${n.charCodeAt(0).toString(16)}`.slice(-2)}`;\n}\nfunction fn(n) {\n  return btoa(encodeURIComponent(n).replace(/%[0-9A-F]{2}/g, En));\n}\nfunction yn(n) {\n  return decodeURIComponent(Array.from(atob(n), hn).join(\"\"));\n}\nfunction ne(n) {\n  return fn(JSON.stringify(n));\n}\nfunction He(n) {\n  return JSON.parse(yn(n));\n}\nimport { RPCErrorCode as In, SDKErrorCode as U, SDKWarningCode as oe } from \"@magic-sdk/types\";\nimport { MagicPayloadMethod as gn, RPCErrorCode as Rn } from \"@magic-sdk/types\";\nfunction M(n) {\n  return typeof n == \"undefined\";\n}\nfunction vn(n) {\n  return n === null;\n}\nfunction re(n) {\n  return vn(n) || M(n);\n}\nfunction nr(n) {\n  return re(n) ? !1 : !M(n.jsonrpc) && !M(n.id) && !M(n.method) && !M(n.params);\n}\nfunction Ve(n) {\n  return re(n) ? !1 : !M(n.jsonrpc) && !M(n.id) && (!M(n.result) || !M(n.error));\n}\nfunction rr(n) {\n  return re(n) ? !1 : typeof n == \"string\" && Object.values(gn).includes(n);\n}\nfunction ze(n) {\n  return re(n) ? !1 : typeof n == \"number\" && Object.values(Rn).includes(n);\n}\nfunction se(n) {\n  if (!n) return !0;\n  for (let e in n) if (Object.hasOwnProperty.call(n, e)) return !1;\n  return !0;\n}\nvar E = {};\nfunction Tn(n, e) {\n  return Object.assign(E, e), n;\n}\nvar Ye = {\n  \"magic-sdk\": \"magic-sdk\",\n  \"@magic-sdk/react-native\": \"magic-sdk-rn\",\n  \"@magic-sdk/react-native-bare\": \"magic-sdk-rn-bare\",\n  \"@magic-sdk/react-native-expo\": \"magic-sdk-rn-expo\"\n};\nvar b = class extends Error {\n    constructor(t, r) {\n      super(`Magic SDK Error: [${t}] ${r}`);\n      this.code = t;\n      this.rawMessage = r;\n      this.__proto__ = Error;\n      Object.setPrototypeOf(this, b.prototype);\n    }\n  },\n  N = class extends Error {\n    constructor(t) {\n      super();\n      this.__proto__ = Error;\n      let r = Number(t == null ? void 0 : t.code);\n      this.rawMessage = (t == null ? void 0 : t.message) || \"Internal error\", this.code = ze(r) ? r : In.InternalError, this.message = `Magic RPC Error: [${this.code}] ${this.rawMessage}`, Object.setPrototypeOf(this, N.prototype);\n    }\n  },\n  q = class {\n    constructor(e, t) {\n      this.code = e;\n      this.rawMessage = t;\n      this.message = `Magic SDK Warning: [${e}] ${t}`;\n    }\n    log() {\n      console.warn(this.message);\n    }\n  },\n  J = class extends Error {\n    constructor(t, r, o, s) {\n      super(`Magic Extension Error (${t.name}): [${r}] ${o}`);\n      this.code = r;\n      this.rawMessage = o;\n      this.data = s;\n      this.__proto__ = Error;\n      Object.setPrototypeOf(this, J.prototype);\n    }\n  },\n  X = class {\n    constructor(e, t, r) {\n      this.code = t;\n      this.rawMessage = r;\n      this.message = `Magic Extension Warning (${e.name}): [${t}] ${r}`;\n    }\n    log() {\n      console.warn(this.message);\n    }\n  };\nfunction Ze() {\n  return new b(U.MissingApiKey, \"Please provide an API key that you acquired from the Magic developer dashboard.\");\n}\nfunction pr() {\n  return new b(U.ModalNotReady, \"Modal is not ready.\");\n}\nfunction Qe() {\n  return new b(U.MalformedResponse, \"Response from the Magic iframe is malformed.\");\n}\nfunction et(n) {\n  return new b(U.ExtensionNotInitialized, `Extensions must be initialized with a Magic SDK instance before \\`Extension.${n}\\` can be accessed. Do not invoke \\`Extension.${n}\\` inside an extension constructor.`);\n}\nfunction tt(n) {\n  let e = `Some extensions are incompatible with \\`${E.sdkName}@${E.version}\\`:`;\n  return n.filter(t => typeof t.compat != \"undefined\" && t.compat !== null).forEach(t => {\n    let r = t.compat[E.sdkName];\n    typeof r == \"string\" ? e += `\n  - Extension \\`${t.name}\\` supports version(s) \\`${r}\\`` : r || (e += `\n  - Extension \\`${t.name}\\` does not support ${E.platform} environments.`);\n  }), new b(U.IncompatibleExtensions, e);\n}\nfunction nt(n) {\n  let e = t => {\n    let r = t + 1,\n      o = r % 10,\n      s = r % 100;\n    return o === 1 && s !== 11 ? `${r}st` : o === 2 && s !== 12 ? `${r}nd` : o === 3 && s !== 13 ? `${r}rd` : `${r}th`;\n  };\n  return new b(U.InvalidArgument, `Invalid ${e(n.argument)} argument given to \\`${n.procedure}\\`.\n  Expected: \\`${n.expected}\\`\n  Received: \\`${n.received}\\``);\n}\nfunction ur() {\n  return new q(oe.DuplicateIframe, \"Duplicate iframes found.\");\n}\nfunction rt() {\n  return new q(oe.SyncWeb3Method, \"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.\");\n}\nfunction st() {\n  return new q(oe.ReactNativeEndpointConfiguration, `CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \\`endpoint\\` parameter SHOULD NOT be provided. The Magic \\`<iframe>\\` is automatically wrapped by a WebView pointed at \\`${E.defaultEndpoint}\\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`);\n}\nfunction dr(n) {\n  let {\n      method: e,\n      removalVersions: t,\n      useInstead: r\n    } = n,\n    o = t[E.sdkName],\n    s = r ? ` Use \\`${r}\\` instead.` : \"\",\n    a = `\\`${e}\\` will be removed from \\`${E.sdkName}\\` in version \\`${o}\\`.${s}`;\n  return new q(oe.DeprecationNotice, a);\n}\nimport { MagicPayloadMethod as O } from \"@magic-sdk/types\";\nimport { MagicOutgoingWindowMessage as Nn, MagicIncomingWindowMessage as wn, MagicPayloadMethod as An } from \"@magic-sdk/types\";\nfunction* xn() {\n  let n = 0;\n  for (;;) n < Number.MAX_SAFE_INTEGER ? yield ++n : n = 0;\n}\nvar Pn = xn();\nfunction xe() {\n  return Pn.next().value;\n}\nvar ot = Symbol(\"Payload pre-processed by Magic SDK\");\nfunction it(n) {\n  return Object.defineProperty(n, ot, {\n    value: !0,\n    enumerable: !1\n  }), n;\n}\nfunction bn(n) {\n  return !!n[ot];\n}\nfunction _(n) {\n  var e, t, r;\n  return bn(n) || (n.jsonrpc = (e = n.jsonrpc) != null ? e : \"2.0\", n.id = xe(), n.method = (t = n.method) != null ? t : \"noop\", n.params = (r = n.params) != null ? r : [], it(n)), n;\n}\nfunction m(n) {\n  let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return it({\n    params: e,\n    method: n,\n    jsonrpc: \"2.0\",\n    id: xe()\n  });\n}\nvar S = class {\n  constructor(e) {\n    e instanceof S ? (this._jsonrpc = e.payload.jsonrpc, this._id = e.payload.id, this._result = e.payload.result, this._error = e.payload.error) : Ve(e) ? (this._jsonrpc = e.jsonrpc, this._id = e.id, this._result = e.result, this._error = e.error) : (this._jsonrpc = e.jsonrpc, this._id = e.id, this._result = void 0, this._error = void 0);\n  }\n  applyError(e) {\n    return this._error = e, this;\n  }\n  applyResult(e) {\n    return this._result = e, this;\n  }\n  get hasError() {\n    return typeof this._error != \"undefined\" && this._error !== null;\n  }\n  get hasResult() {\n    return typeof this._result != \"undefined\";\n  }\n  get payload() {\n    return {\n      jsonrpc: this._jsonrpc,\n      id: this._id,\n      result: this._result,\n      error: this._error\n    };\n  }\n};\nvar lt = At(ct()),\n  be = class extends lt.default {};\nfunction ae() {\n  let n = new be();\n  return {\n    emitter: n,\n    createChainingEmitterMethod: (r, o) => function () {\n      for (var _len2 = arguments.length, s = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        s[_key2] = arguments[_key2];\n      }\n      return n[r].apply(n, s), o;\n    },\n    createBoundEmitterMethod: r => function () {\n      for (var _len3 = arguments.length, o = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        o[_key3] = arguments[_key3];\n      }\n      return n[r].apply(n, o);\n    }\n  };\n}\nvar pt = Symbol(\"isPromiEvent\");\nfunction ut(n) {\n  return !!n[pt];\n}\nfunction ce(n) {\n  let e = $e(n),\n    {\n      createBoundEmitterMethod: t,\n      createChainingEmitterMethod: r\n    } = ae(),\n    o = Symbol(\"Promise.then\"),\n    s = Symbol(\"Promise.catch\"),\n    a = Symbol(\"Promise.finally\"),\n    i = (l, u) => function () {\n      for (var _len4 = arguments.length, I = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        I[_key4] = arguments[_key4];\n      }\n      let A = u[l].apply(u, I);\n      return c(A);\n    },\n    c = l => Object.assign(l, {\n      [pt]: !0,\n      [o]: l[o] || l.then,\n      [s]: l[s] || l.catch,\n      [a]: l[a] || l.finally,\n      then: i(o, l),\n      catch: i(s, l),\n      finally: i(a, l),\n      on: r(\"on\", l),\n      once: r(\"once\", l),\n      addListener: r(\"addListener\", l),\n      off: r(\"off\", l),\n      removeListener: r(\"removeListener\", l),\n      removeAllListeners: r(\"removeAllListeners\", l),\n      emit: t(\"emit\"),\n      eventNames: t(\"eventNames\"),\n      listeners: t(\"listeners\"),\n      listenerCount: t(\"listenerCount\")\n    }),\n    p = c(e.then(l => (p.emit(\"done\", l), p.emit(\"settled\"), l), l => {\n      throw p.emit(\"error\", l), p.emit(\"settled\"), l;\n    }));\n  return p;\n}\nfunction $e(n) {\n  return new Promise((e, t) => {\n    let r = n(e, t);\n    Promise.resolve(r).catch(t);\n  });\n}\nvar P = class {\n  constructor(e) {\n    this.sdk = e;\n  }\n  get overlay() {\n    return this.sdk.overlay;\n  }\n  request(e) {\n    let t = this.overlay.post(Nn.MAGIC_HANDLE_REQUEST, _(e)),\n      r = ce((s, a) => {\n        t.then(i => {\n          if (o(), i.hasError) a(new N(i.payload.error));else if (i.hasResult) s(i.payload.result);else throw Qe();\n        }).catch(i => {\n          o(), a(i);\n        });\n      }),\n      o = this.overlay.on(wn.MAGIC_HANDLE_EVENT, s => {\n        var i;\n        let {\n          response: a\n        } = s.data;\n        if (a.id === e.id && ((i = a.result) == null ? void 0 : i.event)) {\n          let {\n            event: c,\n            params: p = []\n          } = a.result;\n          r.emit(c, ...p);\n        }\n      });\n    return r;\n  }\n  createIntermediaryEvent(e, t) {\n    return o => {\n      let s = m(An.IntermediaryEvent, [{\n        payloadId: t,\n        eventType: e,\n        args: o\n      }]);\n      this.request(s);\n    };\n  }\n};\nvar le = class extends P {\n  loginWithMagicLink(e) {\n    let {\n        email: t,\n        showUI: r = !0,\n        redirectURI: o\n      } = e,\n      s = m(this.sdk.testMode ? O.LoginWithMagicLinkTestMode : O.LoginWithMagicLink, [{\n        email: t,\n        showUI: r,\n        redirectURI: o\n      }]);\n    return this.request(s);\n  }\n  loginWithSMS(e) {\n    let {\n        phoneNumber: t\n      } = e,\n      r = m(this.sdk.testMode ? O.LoginWithSmsTestMode : O.LoginWithSms, [{\n        phoneNumber: t,\n        showUI: !0\n      }]);\n    return this.request(r);\n  }\n  loginWithEmailOTP(e) {\n    let {\n        email: t,\n        showUI: r\n      } = e,\n      o = m(this.sdk.testMode ? O.LoginWithEmailOTPTestMode : O.LoginWithEmailOTP, [{\n        email: t,\n        showUI: r\n      }]);\n    if (!r) {\n      let s = this.request(o);\n      return s && s.on(\"otp-input-sent\", a => {\n        this.createIntermediaryEvent(\"verify-email-otp\", o.id)(a);\n      }), s;\n    }\n    return this.request(o);\n  }\n  loginWithCredential(e) {\n    let t = e != null ? e : \"\";\n    if (!e && E.platform === \"web\") {\n      t = window.location.search;\n      let o = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, \"\", o);\n    }\n    let r = m(this.sdk.testMode ? O.LoginWithCredentialTestMode : O.LoginWithCredential, [t]);\n    return this.request(r);\n  }\n};\nimport { MagicPayloadMethod as f } from \"@magic-sdk/types\";\nvar H = {};\nNt(H, {\n  clear: () => Ln,\n  getItem: () => D,\n  iterate: () => _n,\n  key: () => On,\n  keys: () => Cn,\n  length: () => Sn,\n  removeItem: () => ue,\n  setItem: () => G\n});\nvar pe;\nfunction C(n) {\n  var _this = this;\n  return function () {\n    for (var _len5 = arguments.length, e = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      e[_key5] = arguments[_key5];\n    }\n    return x(_this, null, function* () {\n      return pe || (pe = yield E.configureStorage()), yield pe.ready(), pe[n](...e);\n    });\n  };\n}\nvar D = C(\"getItem\"),\n  G = C(\"setItem\"),\n  ue = C(\"removeItem\"),\n  Ln = C(\"clear\"),\n  Sn = C(\"length\"),\n  On = C(\"key\"),\n  Cn = C(\"keys\"),\n  _n = C(\"iterate\");\nfunction dt() {\n  let n = window.crypto.getRandomValues(new Uint8Array(16));\n  n[6] = n[6] & 15 | 64, n[8] = n[8] & 191 | 128;\n  let e = \"\";\n  return e += n[0].toString(16), e += n[1].toString(16), e += n[2].toString(16), e += n[3].toString(16), e += \"-\", e += n[4].toString(16), e += n[5].toString(16), e += \"-\", e += n[6].toString(16), e += n[7].toString(16), e += \"-\", e += n[8].toString(16), e += n[9].toString(16), e += \"-\", e += n[10].toString(16), e += n[11].toString(16), e += n[12].toString(16), e += n[13].toString(16), e += n[14].toString(16), e += n[15].toString(16), e;\n}\nvar Me = \"STORE_KEY_PRIVATE_KEY\",\n  de = \"STORE_KEY_PUBLIC_JWK\",\n  Ne = \"ECDSA\",\n  Et = \"P-256\",\n  Dn = {\n    name: Ne,\n    namedCurve: Et\n  },\n  kn = {\n    name: Ne,\n    namedCurve: Et\n  };\nfunction me() {\n  ue(de), ue(Me);\n}\nfunction ht() {\n  return x(this, null, function* () {\n    let n = yield qn();\n    if (!n) {\n      console.info(\"unable to create public key or webcrypto is unsupported\");\n      return;\n    }\n    let {\n        subtle: e\n      } = window.crypto,\n      t = yield D(Me);\n    if (!t || !e) {\n      console.info(\"unable to find private key or webcrypto unsupported\");\n      return;\n    }\n    let r = {\n        iat: Math.floor(new Date().getTime() / 1e3),\n        jti: dt()\n      },\n      o = {\n        typ: \"dpop+jwt\",\n        alg: \"ES256\",\n        jwk: n\n      },\n      s = {\n        protected: mt(JSON.stringify(o)),\n        claims: mt(JSON.stringify(r))\n      },\n      a = Gn(`${s.protected}.${s.claims}`),\n      i = {\n        name: Ne,\n        hash: {\n          name: \"SHA-256\"\n        }\n      },\n      c = Fn(new Uint8Array(yield e.sign(i, t, a)));\n    return `${s.protected}.${s.claims}.${c}`;\n  });\n}\nfunction qn() {\n  return x(this, null, function* () {\n    if (!Un()) {\n      console.info(\"webcrypto is not supported\");\n      return;\n    }\n    return (yield D(de)) || (yield Jn()), D(de);\n  });\n}\nfunction Jn() {\n  return x(this, null, function* () {\n    let n = null,\n      {\n        subtle: e\n      } = window.crypto,\n      t = yield e.generateKey(Dn, !0, [\"sign\"]),\n      r = yield e.exportKey(\"jwk\", t.privateKey);\n    n = yield e.exportKey(\"jwk\", t.publicKey);\n    let o = yield e.importKey(\"jwk\", r, kn, !1, [\"sign\"]);\n    yield G(Me, o), yield G(de, n);\n  });\n}\nfunction Un() {\n  let n = typeof window != \"undefined\" && !!window.crypto,\n    e = n && !!window.crypto.subtle;\n  return n && e;\n}\nfunction mt(n) {\n  return ft(Kn(n));\n}\nfunction Gn(n) {\n  return new TextEncoder().encode(n);\n}\nfunction ft(n) {\n  return btoa(n).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=+/g, \"\");\n}\nfunction Kn(n) {\n  return encodeURIComponent(n).replace(/%([0-9A-F]{2})/g, (t, r) => String.fromCharCode(parseInt(r, 16)));\n}\nfunction Fn(n) {\n  let e = \"\";\n  return n.forEach(t => {\n    e += String.fromCharCode(t);\n  }), ft(e);\n}\nvar Ee = class extends P {\n  getIdToken(e) {\n    let t = m(this.sdk.testMode ? f.GetIdTokenTestMode : f.GetIdToken, [e]);\n    return this.request(t);\n  }\n  generateIdToken(e) {\n    let t = m(this.sdk.testMode ? f.GenerateIdTokenTestMode : f.GenerateIdToken, [e]);\n    return this.request(t);\n  }\n  getMetadata() {\n    let e = m(this.sdk.testMode ? f.GetMetadataTestMode : f.GetMetadata);\n    return this.request(e);\n  }\n  updateEmail(e) {\n    let {\n        email: t,\n        showUI: r = !0\n      } = e,\n      o = m(this.sdk.testMode ? f.UpdateEmailTestMode : f.UpdateEmail, [{\n        email: t,\n        showUI: r\n      }]);\n    return this.request(o);\n  }\n  isLoggedIn() {\n    let e = m(this.sdk.testMode ? f.IsLoggedInTestMode : f.IsLoggedIn);\n    return this.request(e);\n  }\n  logout() {\n    me();\n    let e = m(this.sdk.testMode ? f.LogoutTestMode : f.Logout);\n    return this.request(e);\n  }\n  showSettings() {\n    let e = m(this.sdk.testMode ? f.UserSettingsTestMode : f.UserSettings);\n    return this.request(e);\n  }\n  updatePhoneNumber() {\n    let e = m(this.sdk.testMode ? f.UpdatePhoneNumberTestMode : f.UpdatePhoneNumber);\n    return this.request(e);\n  }\n  recoverAccount(e) {\n    let t = m(this.sdk.testMode ? f.RecoverAccountTestMode : f.RecoverAccount, [e]);\n    return this.request(t);\n  }\n};\nimport { MagicPayloadMethod as V } from \"@magic-sdk/types\";\nvar he = class extends P {\n  connectWithUI() {\n    let e = m(V.RequestAccounts);\n    return this.request(e);\n  }\n  showUI() {\n    let e = m(V.ShowUI);\n    return this.request(e);\n  }\n  getInfo() {\n    let e = m(V.GetInfo);\n    return this.request(e);\n  }\n  requestUserInfoWithUI(e) {\n    let t = m(V.RequestUserInfoWithUI, e ? [e] : []);\n    return this.request(t);\n  }\n  disconnect() {\n    me();\n    let e = m(V.Disconnect);\n    return this.request(e);\n  }\n};\nimport { MagicOutgoingWindowMessage as yt } from \"@magic-sdk/types\";\nvar {\n    createBoundEmitterMethod: fe,\n    createChainingEmitterMethod: K\n  } = ae(),\n  ye = class extends P {\n    constructor() {\n      super(...arguments);\n      this.isMagic = !0;\n      this.on = K(\"on\", this);\n      this.once = K(\"once\", this);\n      this.addListener = K(\"addListener\", this);\n      this.off = K(\"off\", this);\n      this.removeListener = K(\"removeListener\", this);\n      this.removeAllListeners = K(\"removeAllListeners\", this);\n      this.emit = fe(\"emit\");\n      this.eventNames = fe(\"eventNames\");\n      this.listeners = fe(\"listeners\");\n      this.listenerCount = fe(\"listenerCount\");\n    }\n    sendAsync(t, r) {\n      if (!r) throw nt({\n        procedure: \"Magic.rpcProvider.sendAsync\",\n        argument: 1,\n        expected: \"function\",\n        received: r === null ? \"null\" : typeof r\n      });\n      if (Array.isArray(t)) this.overlay.post(yt.MAGIC_HANDLE_REQUEST, t.map(o => {\n        let s = _(o);\n        return this.prefixPayloadMethodForTestMode(s), s;\n      })).then(o => {\n        r(null, o.map(s => _e(Z({}, s.payload), {\n          error: s.hasError ? new N(s.payload.error) : null\n        })));\n      });else {\n        let o = _(t);\n        this.prefixPayloadMethodForTestMode(o), this.overlay.post(yt.MAGIC_HANDLE_REQUEST, o).then(s => {\n          r(s.hasError ? new N(s.payload.error) : null, s.payload);\n        });\n      }\n    }\n    send(t, r) {\n      if (typeof t == \"string\") {\n        let s = m(t, Array.isArray(r) ? r : []);\n        return this.request(s);\n      }\n      if (Array.isArray(t) || !!r) {\n        this.sendAsync(t, r);\n        return;\n      }\n      let o = rt();\n      return o.log(), new S(t).applyError({\n        code: -32603,\n        message: o.rawMessage\n      }).payload;\n    }\n    enable() {\n      let t = m(\"eth_accounts\");\n      return this.request(t);\n    }\n    request(t) {\n      return this.prefixPayloadMethodForTestMode(t), super.request(t);\n    }\n    prefixPayloadMethodForTestMode(t) {\n      let r = \"testMode/eth/\";\n      this.sdk.testMode && (t.method = `${r}${t.method}`);\n    }\n  };\nfunction we(n, e) {\n  return e ? new URL(n, e) : new URL(n);\n}\nvar gt = [\"request\", \"overlay\", \"sdk\"];\nfunction jn(n) {\n  let e = Object.getPrototypeOf(n),\n    t = [e];\n  for (; e !== P.prototype;) e = Object.getPrototypeOf(e), t.push(e);\n  return t;\n}\nvar ge = class extends P {\n    constructor() {\n      super(void 0);\n      this.__sdk_access_field_descriptors__ = new Map();\n      this.__is_initialized__ = !1;\n      this.utils = {\n        createPromiEvent: ce,\n        isPromiEvent: ut,\n        encodeJSON: ne,\n        decodeJSON: He,\n        createJsonRpcRequestPayload: m,\n        standardizeJsonRpcRequestPayload: _,\n        storage: H\n      };\n      let t = [this, ...jn(this)];\n      gt.forEach(r => {\n        let o = t.map(c => Object.getOwnPropertyDescriptor(c, r)),\n          s = o.findIndex(c => !!c),\n          a = s > 0,\n          i = o[s];\n        i && (this.__sdk_access_field_descriptors__.set(r, {\n          descriptor: i,\n          isPrototypeField: a\n        }), Object.defineProperty(this, r, {\n          configurable: !0,\n          get: () => {\n            throw et(r);\n          }\n        }));\n      });\n    }\n    init(t) {\n      this.__is_initialized__ || (gt.forEach(r => {\n        if (this.__sdk_access_field_descriptors__.has(r)) {\n          let {\n            descriptor: o,\n            isPrototypeField: s\n          } = this.__sdk_access_field_descriptors__.get(r);\n          s ? delete this[r] : Object.defineProperty(this, r, o);\n        }\n      }), this.sdk = t, this.__is_initialized__ = !0);\n    }\n    createDeprecationWarning(t) {\n      let {\n          method: r,\n          removalVersion: o,\n          useInstead: s\n        } = t,\n        a = s ? ` Use \\`${s}\\` instead.` : \"\",\n        i = `\\`${r}\\` will be removed from this Extension in version \\`${o}\\`.${a}`;\n      return new X(this, \"DEPRECATION_NOTICE\", i);\n    }\n    createWarning(t, r) {\n      return new X(this, t, r);\n    }\n    createError(t, r, o) {\n      return new J(this, t, r, o);\n    }\n  },\n  Ae = class extends ge {},\n  w = class extends ge {};\nw.Internal = Ae, w.Anonymous = \"anonymous extension\";\nfunction Rt(n) {\n  return n.compat && n.compat[E.sdkName] != null ? typeof n.compat[E.sdkName] == \"string\" ? Xe(Be(E.version), n.compat[E.sdkName]) : !!n.compat[E.sdkName] : !0;\n}\nfunction Wn(n) {\n  var o;\n  let e = (o = n == null ? void 0 : n.extensions) != null ? o : [],\n    t = {},\n    r = [];\n  if (Array.isArray(e) ? e.forEach(s => {\n    Rt(s) ? (s.init(this), (s.name || s.name !== w.Anonymous) && (this[s.name] = s), s instanceof w.Internal && (se(s.config) || (t[s.name] = s.config))) : r.push(s);\n  }) : Object.keys(e).forEach(s => {\n    if (Rt(e[s])) {\n      e[s].init(this);\n      let a = e[s];\n      this[s] = a, a instanceof w.Internal && (se(a.config) || (t[e[s].name] = a.config));\n    } else r.push(e[s]);\n  }), r.length) throw tt(r);\n  return t;\n}\nvar z = class {\n    constructor(e, t) {\n      this.apiKey = e;\n      var a;\n      if (!e) throw Ze();\n      E.platform === \"react-native\" && (t == null ? void 0 : t.endpoint) && st().log();\n      let {\n        defaultEndpoint: r,\n        version: o\n      } = E;\n      this.testMode = !!(t != null && t.testMode), this.endpoint = we((a = t == null ? void 0 : t.endpoint) != null ? a : r).origin, this.auth = new le(this), this.user = new Ee(this), this.wallet = new he(this), this.rpcProvider = new ye(this);\n      let s = Wn.call(this, t);\n      this.parameters = ne(Z({\n        API_KEY: this.apiKey,\n        DOMAIN_ORIGIN: window.location ? window.location.origin : \"\",\n        ETH_NETWORK: t == null ? void 0 : t.network,\n        host: we(this.endpoint).host,\n        sdk: Ye[E.sdkName],\n        version: o,\n        ext: se(s) ? void 0 : s,\n        locale: (t == null ? void 0 : t.locale) || \"en_US\"\n      }, E.bundleId ? {\n        bundleId: E.bundleId\n      } : {}));\n    }\n    get overlay() {\n      if (!z.__overlays__.has(this.parameters)) {\n        let e = new E.ViewController(this.endpoint, this.parameters);\n        e.init(), z.__overlays__.set(this.parameters, e);\n      }\n      return z.__overlays__.get(this.parameters);\n    }\n    preload() {\n      return x(this, null, function* () {\n        yield this.overlay.ready;\n      });\n    }\n  },\n  Re = z;\nRe.__overlays__ = new Map();\nimport { MagicIncomingWindowMessage as ve } from \"@magic-sdk/types\";\nfunction Xn(n, e) {\n  return e && Array.isArray(n) ? n.find(t => t.id === e) : n;\n}\nfunction Bn(n, e) {\n  var o;\n  let t = (o = e.data.response) == null ? void 0 : o.id,\n    r = Xn(n, t);\n  if (t && r) {\n    let s = new S(r).applyResult(e.data.response.result).applyError(e.data.response.error);\n    return {\n      id: t,\n      response: s\n    };\n  }\n  return {};\n}\nfunction Hn(n, e) {\n  return x(this, null, function* () {\n    let t = yield D(\"rt\"),\n      r;\n    if (E.platform === \"web\") try {\n      r = yield ht();\n    } catch (o) {\n      console.error(\"webcrypto error\", o);\n    }\n    return r ? t ? {\n      msgType: n,\n      payload: e,\n      jwt: r,\n      rt: t\n    } : {\n      msgType: n,\n      payload: e,\n      jwt: r\n    } : {\n      msgType: n,\n      payload: e\n    };\n  });\n}\nfunction Vn(n) {\n  return x(this, null, function* () {\n    !n.data.rt || (yield G(\"rt\", n.data.rt));\n  });\n}\nvar Le = class {\n  constructor(e, t) {\n    this.endpoint = e;\n    this.parameters = t;\n    this.messageHandlers = new Set();\n    this.ready = this.waitForReady(), this.listen();\n  }\n  post(e, t) {\n    return x(this, null, function* () {\n      return $e(r => x(this, null, function* () {\n        yield this.ready;\n        let o = [],\n          s = Array.isArray(t) ? t.map(p => p.id) : [],\n          a = yield Hn(`${e}-${this.parameters}`, t);\n        yield this._post(a);\n        let i = p => l => {\n            let {\n              id: u,\n              response: I\n            } = Bn(t, l);\n            Vn(l), u && I && Array.isArray(t) && s.includes(u) ? (o.push(I), o.length === t.length && (p(), r(o))) : u && I && !Array.isArray(t) && u === t.id && (p(), r(I));\n          },\n          c = this.on(ve.MAGIC_HANDLE_RESPONSE, i(() => c()));\n      }));\n    });\n  }\n  on(e, t) {\n    let r = t.bind(window),\n      o = s => {\n        s.data.msgType === `${e}-${this.parameters}` && r(s);\n      };\n    return this.messageHandlers.add(o), () => this.messageHandlers.delete(o);\n  }\n  waitForReady() {\n    return new Promise(e => {\n      this.on(ve.MAGIC_OVERLAY_READY, () => e());\n    });\n  }\n  listen() {\n    this.on(ve.MAGIC_HIDE_OVERLAY, () => {\n      this.hideOverlay();\n    }), this.on(ve.MAGIC_SHOW_OVERLAY, () => {\n      this.showOverlay();\n    });\n  }\n};\nexport { w as Extension, J as MagicExtensionError, X as MagicExtensionWarning, N as MagicRPCError, b as MagicSDKError, q as MagicSDKWarning, Re as SDKBase, Me as STORE_KEY_PRIVATE_KEY, de as STORE_KEY_PUBLIC_JWK, be as TypedEmitter, Le as ViewController, me as clearKeys, dr as createDeprecationWarning, ur as createDuplicateIframeWarning, et as createExtensionNotInitializedError, tt as createIncompatibleExtensionsError, nt as createInvalidArgumentError, ht as createJwt, Qe as createMalformedResponseError, Ze as createMissingApiKeyError, pr as createModalNotReadyError, ce as createPromiEvent, $e as createPromise, st as createReactNativeEndpointConfigurationWarning, Tn as createSDK, rt as createSynchronousWeb3MethodWarning, ae as createTypedEmitter, we as createURL, He as decodeJSON, ne as encodeJSON, xe as getPayloadId, se as isEmpty, ze as isJsonRpcErrorCode, nr as isJsonRpcRequestPayload, Ve as isJsonRpcResponsePayload, rr as isMagicPayloadMethod, ut as isPromiEvent, H as storage, dt as uuid };","map":{"version":3,"sources":["../../node_modules/eventemitter3/index.js","../../src/util/semver.js","../../src/util/base64-json.ts","../../src/core/sdk-exceptions.ts","../../src/util/type-guards.ts","../../src/core/sdk-environment.ts","../../src/modules/auth.ts","../../src/modules/base-module.ts","../../src/util/get-payload-id.ts","../../src/core/json-rpc.ts","../../src/util/events.ts","../../src/util/promise-tools.ts","../../src/modules/user.ts","../../src/util/storage.ts","../../src/util/uuid.ts","../../src/util/web-crypto.ts","../../src/modules/wallet.ts","../../src/modules/rpc-provider.ts","../../src/util/url.ts","../../src/modules/base-extension.ts","../../src/core/sdk.ts","../../src/core/view-controller.ts"],"names":["has","prefix","Events","EE","fn","context","once","addListener","emitter","event","listener","evt","clearEvent","EventEmitter","names","events","name","handlers","i","l","ee","listeners","a1","a2","a3","a4","a5","len","args","length","j","module","createCommonjsModule","e","r","MAX_SAFE_INTEGER$1","constants","debug","debug_1","re_1","s","o","n","t","numeric","compareIdentifiers$1","rcompareIdentifiers","identifiers","MAX_LENGTH$1","MAX_SAFE_INTEGER","re$4","t$4","compareIdentifiers","SemVer","compare","compare_1","eq","eq_1","neq","neq_1","gt","gt_1","gte","gte_1","lt","lt_1","lte","lte_1","cmp","cmp_1","ANY","Comparator","re$3","t$3","Range","a","re$2","t$2","hyphenReplace","comparatorTrimReplace","tildeTrimReplace","caretTrimReplace","parseComparator","replaceGTE0","isSatisfiable","testSet","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","replaceCaret","replaceXRange","E","p","c","$","h","satisfies","MAX_LENGTH","re$1","t$1","parse","parse_1","re","coerce","percentToByte","byteToPercent","b","btoaUTF8","str","atobUTF8","encodeJSON","options","decodeJSON","queryString","MagicSDKError","code","rawMessage","MagicRPCError","sourceError","codeNormalized","isJsonRpcErrorCode","RPCErrorCode","MagicSDKWarning","MagicExtensionError","ext","data","MagicExtensionWarning","createMissingApiKeyError","SDKErrorCode","createModalNotReadyError","createMalformedResponseError","createExtensionNotInitializedError","member","createIncompatibleExtensionsError","extensions","msg","SDKEnvironment","compat","createInvalidArgumentError","ordinalSuffix","iAdjusted","k","createDuplicateIframeWarning","SDKWarningCode","createSynchronousWeb3MethodWarning","createReactNativeEndpointConfigurationWarning","createDeprecationWarning","removalVersion","removalVersions","useInsteadSuffix","useInstead","message","method","isUndefined","value","isNull","isNil","isJsonRpcRequestPayload","isJsonRpcResponsePayload","isMagicPayloadMethod","MagicPayloadMethod","isEmpty","key","createSDK","SDKBaseCtor","environment","sdkNameToEnvName","AuthModule","BaseModule","configuration","requestPayload","createJsonRpcRequestPayload","showUI","handle","otp","credentialOrQueryString","credentialResolved","urlWithoutQuery","sdk","payload","responsePromise","MagicOutgoingWindowMessage","standardizeJsonRpcRequestPayload","promiEvent","createPromiEvent","resolve","reject","res","cleanupEvents","err","MagicIncomingWindowMessage","response","_a","params","eventType","payloadId","createIntGenerator","index","intGenerator","getPayloadId","payloadPreprocessedSymbol","markPayloadAsPreprocessed","isPayloadPreprocessed","_b","_c","JsonRpcResponse","responseOrPayload","error","result","TypedEmitter","createTypedEmitter","source","promiEventBrand","isPromiEvent","executor","promise","createPromise","thenSymbol","catchSymbol","finallySymbol","createChainingPromiseMethod","nextPromise","createChainingEmitterMethod","createBoundEmitterMethod","resolved","UserModule","clearKeys","lf","proxyLocalForageMethod","__async","getItem","setItem","removeItem","clear","keys","iterate","uuid","u","uid","STORE_KEY_PRIVATE_KEY","STORE_KEY_PUBLIC_JWK","ALGO_NAME","ALGO_CURVE","EC_GEN_PARAMS","EC_IMPORT_PARAMS","createJwt","publicJwk","getPublicKey","privateJwk","subtle","claims","headers","jws","strToUrlBase64","strToUint8","sigType","sig","uint8ToUrlBase64","isWebCryptoSupported","generateWCKP","jwkPublicKey","kp","jwkPrivateKey","nonExportPrivateKey","hasCrypto","hasSubtleCrypto","binToUrlBase64","utf8ToBinaryString","bin","_","p1","uint8","WalletModule","scope","RPCProviderModule","onRequestComplete","standardizedPayload","batchResponse","__spreadProps","finalPayload","payloadOrMethod","onRequestCompleteOrParams","warning","testModePrefix","createURL","url","base","sdkAccessFields","getPrototypeChain","instance","currentProto","protos","BaseExtension","allSources","prop","allDescriptors","sourceIndex","x","isPrototypeField","descriptor","InternalExtension","Extension","checkExtensionCompat","prepareExtensions","extConfig","incompatibleExtensions","_SDKBase","apiKey","defaultEndpoint","__spreadValues","controller","getRequestPayloadFromBatch","id","standardizeResponse","requestPayloadResolved","createMagicRequest","msgType","rt","jwt","persistMagicEventRefreshToken","ViewController","endpoint","parameters","batchData","batchIds","acknowledgeResponse","removeEventListener","removeResponseListener","handler","boundHandler"],"mappings":"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","sourcesContent":["'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/* eslint-disable */\n/* istanbul ignore file */\n\n// DO NOT CHANGE THIS FILE.\n//\n// We have to bundle `semver` ourselves due to a long-standing cyclic dependency\n// which causes Rollup to break the `satisfies` function.\n//\n// See:\n//   - https://github.com/magiclabs/magic-js/issues/198\n//   - https://github.com/rollup/plugins/issues/879\n//   - https://github.com/npm/node-semver/issues/318\n//   - https://github.com/npm/node-semver/issues/381\n\nfunction createCommonjsModule(e){const r={exports:{}};return e(r,r.exports),r.exports}const SEMVER_SPEC_VERSION=\"2.0.0\",MAX_LENGTH$2=256,MAX_SAFE_INTEGER$1=Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH=16,constants={SEMVER_SPEC_VERSION:\"2.0.0\",MAX_LENGTH:256,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER$1,MAX_SAFE_COMPONENT_LENGTH:16},debug=\"object\"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\\bsemver\\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error(\"SEMVER\",...e):()=>{},debug_1=debug,re_1=createCommonjsModule(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t}=constants,s=(r=e.exports={}).re=[],i=r.src=[],o=r.t={};let a=0;const n=(e,r,t)=>{const n=a++;debug_1(n,r),o[e]=n,i[n]=r,s[n]=new RegExp(r,t?\"g\":void 0)};n(\"NUMERICIDENTIFIER\",\"0|[1-9]\\\\d*\"),n(\"NUMERICIDENTIFIERLOOSE\",\"[0-9]+\"),n(\"NONNUMERICIDENTIFIER\",\"\\\\d*[a-zA-Z-][a-zA-Z0-9-]*\"),n(\"MAINVERSION\",`(${i[o.NUMERICIDENTIFIER]})\\\\.`+`(${i[o.NUMERICIDENTIFIER]})\\\\.`+`(${i[o.NUMERICIDENTIFIER]})`),n(\"MAINVERSIONLOOSE\",`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.`+`(${i[o.NUMERICIDENTIFIERLOOSE]})\\\\.`+`(${i[o.NUMERICIDENTIFIERLOOSE]})`),n(\"PRERELEASEIDENTIFIER\",`(?:${i[o.NUMERICIDENTIFIER]}|${i[o.NONNUMERICIDENTIFIER]})`),n(\"PRERELEASEIDENTIFIERLOOSE\",`(?:${i[o.NUMERICIDENTIFIERLOOSE]}|${i[o.NONNUMERICIDENTIFIER]})`),n(\"PRERELEASE\",`(?:-(${i[o.PRERELEASEIDENTIFIER]}(?:\\\\.${i[o.PRERELEASEIDENTIFIER]})*))`),n(\"PRERELEASELOOSE\",`(?:-?(${i[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\\\.${i[o.PRERELEASEIDENTIFIERLOOSE]})*))`),n(\"BUILDIDENTIFIER\",\"[0-9A-Za-z-]+\"),n(\"BUILD\",`(?:\\\\+(${i[o.BUILDIDENTIFIER]}(?:\\\\.${i[o.BUILDIDENTIFIER]})*))`),n(\"FULLPLAIN\",`v?${i[o.MAINVERSION]}${i[o.PRERELEASE]}?${i[o.BUILD]}?`),n(\"FULL\",`^${i[o.FULLPLAIN]}$`),n(\"LOOSEPLAIN\",`[v=\\\\s]*${i[o.MAINVERSIONLOOSE]}${i[o.PRERELEASELOOSE]}?${i[o.BUILD]}?`),n(\"LOOSE\",`^${i[o.LOOSEPLAIN]}$`),n(\"GTLT\",\"((?:<|>)?=?)\"),n(\"XRANGEIDENTIFIERLOOSE\",`${i[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`),n(\"XRANGEIDENTIFIER\",`${i[o.NUMERICIDENTIFIER]}|x|X|\\\\*`),n(\"XRANGEPLAIN\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIER]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIER]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIER]})`+`(?:${i[o.PRERELEASE]})?${i[o.BUILD]}?`+\")?)?\"),n(\"XRANGEPLAINLOOSE\",`[v=\\\\s]*(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:\\\\.(${i[o.XRANGEIDENTIFIERLOOSE]})`+`(?:${i[o.PRERELEASELOOSE]})?${i[o.BUILD]}?`+\")?)?\"),n(\"XRANGE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAIN]}$`),n(\"XRANGELOOSE\",`^${i[o.GTLT]}\\\\s*${i[o.XRANGEPLAINLOOSE]}$`),n(\"COERCE\",`(^|[^\\\\d])(\\\\d{1,${t}})`+`(?:\\\\.(\\\\d{1,${t}}))?`+`(?:\\\\.(\\\\d{1,${t}}))?`+\"(?:$|[^\\\\d])\"),n(\"COERCERTL\",i[o.COERCE],!0),n(\"LONETILDE\",\"(?:~>?)\"),n(\"TILDETRIM\",`(\\\\s*)${i[o.LONETILDE]}\\\\s+`,!0),r.tildeTrimReplace=\"$1~\",n(\"TILDE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAIN]}$`),n(\"TILDELOOSE\",`^${i[o.LONETILDE]}${i[o.XRANGEPLAINLOOSE]}$`),n(\"LONECARET\",\"(?:\\\\^)\"),n(\"CARETTRIM\",`(\\\\s*)${i[o.LONECARET]}\\\\s+`,!0),r.caretTrimReplace=\"$1^\",n(\"CARET\",`^${i[o.LONECARET]}${i[o.XRANGEPLAIN]}$`),n(\"CARETLOOSE\",`^${i[o.LONECARET]}${i[o.XRANGEPLAINLOOSE]}$`),n(\"COMPARATORLOOSE\",`^${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]})$|^$`),n(\"COMPARATOR\",`^${i[o.GTLT]}\\\\s*(${i[o.FULLPLAIN]})$|^$`),n(\"COMPARATORTRIM\",`(\\\\s*)${i[o.GTLT]}\\\\s*(${i[o.LOOSEPLAIN]}|${i[o.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace=\"$1$2$3\",n(\"HYPHENRANGE\",`^\\\\s*(${i[o.XRANGEPLAIN]})`+\"\\\\s+-\\\\s+\"+`(${i[o.XRANGEPLAIN]})`+\"\\\\s*$\"),n(\"HYPHENRANGELOOSE\",`^\\\\s*(${i[o.XRANGEPLAINLOOSE]})`+\"\\\\s+-\\\\s+\"+`(${i[o.XRANGEPLAINLOOSE]})`+\"\\\\s*$\"),n(\"STAR\",\"(<|>)?=?\\\\s*\\\\*\"),n(\"GTE0\",\"^\\\\s*>=\\\\s*0.0.0\\\\s*$\"),n(\"GTE0PRE\",\"^\\\\s*>=\\\\s*0.0.0-0\\\\s*$\")}),numeric=/^[0-9]+$/,compareIdentifiers$1=(e,r)=>{const t=numeric.test(e),s=numeric.test(r);return t&&s&&(e=+e,r=+r),e===r?0:t&&!s?-1:s&&!t?1:e<r?-1:1},rcompareIdentifiers=(e,r)=>compareIdentifiers$1(r,e),identifiers={compareIdentifiers:compareIdentifiers$1,rcompareIdentifiers:rcompareIdentifiers},{MAX_LENGTH:MAX_LENGTH$1,MAX_SAFE_INTEGER:MAX_SAFE_INTEGER}=constants,{re:re$4,t:t$4}=re_1,{compareIdentifiers:compareIdentifiers}=identifiers;class SemVer{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof SemVer){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(\"string\"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>MAX_LENGTH$1)throw new TypeError(`version is longer than ${MAX_LENGTH$1} characters`);debug_1(\"SemVer\",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const t=e.trim().match(r.loose?re$4[t$4.LOOSE]:re$4[t$4.FULL]);if(!t)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError(\"Invalid major version\");if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError(\"Invalid minor version\");if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError(\"Invalid patch version\");t[4]?this.prerelease=t[4].split(\".\").map(e=>{if(/^[0-9]+$/.test(e)){const r=+e;if(r>=0&&r<MAX_SAFE_INTEGER)return r}return e}):this.prerelease=[],this.build=t[5]?t[5].split(\".\"):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(\".\")}`),this.version}toString(){return this.version}compare(e){if(debug_1(\"SemVer.compare\",this.version,this.options,e),!(e instanceof SemVer)){if(\"string\"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),compareIdentifiers(this.major,e.major)||compareIdentifiers(this.minor,e.minor)||compareIdentifiers(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const t=this.prerelease[r],s=e.prerelease[r];if(debug_1(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++r)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let r=0;do{const t=this.build[r],s=e.build[r];if(debug_1(\"prerelease compare\",r,t,s),void 0===t&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===t)return-1;if(t!==s)return compareIdentifiers(t,s)}while(++r)}inc(e,r){switch(e){case\"premajor\":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc(\"pre\",r);break;case\"preminor\":this.prerelease.length=0,this.patch=0,this.minor++,this.inc(\"pre\",r);break;case\"prepatch\":this.prerelease.length=0,this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"prerelease\":0===this.prerelease.length&&this.inc(\"patch\",r),this.inc(\"pre\",r);break;case\"major\":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case\"minor\":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case\"patch\":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case\"pre\":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)\"number\"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}const compare=(e,r,t)=>new SemVer(e,t).compare(new SemVer(r,t)),compare_1=compare,eq=(e,r,t)=>0===compare_1(e,r,t),eq_1=eq,neq=(e,r,t)=>0!==compare_1(e,r,t),neq_1=neq,gt=(e,r,t)=>compare_1(e,r,t)>0,gt_1=gt,gte=(e,r,t)=>compare_1(e,r,t)>=0,gte_1=gte,lt=(e,r,t)=>compare_1(e,r,t)<0,lt_1=lt,lte=(e,r,t)=>compare_1(e,r,t)<=0,lte_1=lte,cmp=(e,r,t,s)=>{switch(r){case\"===\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e===t;case\"!==\":return\"object\"==typeof e&&(e=e.version),\"object\"==typeof t&&(t=t.version),e!==t;case\"\":case\"=\":case\"==\":return eq_1(e,t,s);case\"!=\":return neq_1(e,t,s);case\">\":return gt_1(e,t,s);case\">=\":return gte_1(e,t,s);case\"<\":return lt_1(e,t,s);case\"<=\":return lte_1(e,t,s);default:throw new TypeError(`Invalid operator: ${r}`)}},cmp_1=cmp,ANY=Symbol(\"SemVer ANY\");class Comparator{static get ANY(){return ANY}constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof Comparator){if(e.loose===!!r.loose)return e;e=e.value}debug_1(\"comparator\",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===ANY?this.value=\"\":this.value=this.operator+this.semver.version,debug_1(\"comp\",this)}parse(e){const r=this.options.loose?re$3[t$3.COMPARATORLOOSE]:re$3[t$3.COMPARATOR],t=e.match(r);if(!t)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==t[1]?t[1]:\"\",\"=\"===this.operator&&(this.operator=\"\"),t[2]?this.semver=new SemVer(t[2],this.options.loose):this.semver=ANY}toString(){return this.value}test(e){if(debug_1(\"Comparator.test\",e,this.options.loose),this.semver===ANY||e===ANY)return!0;if(\"string\"==typeof e)try{e=new SemVer(e,this.options)}catch(e){return!1}return cmp_1(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof Comparator))throw new TypeError(\"a Comparator is required\");if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),\"\"===this.operator)return\"\"===this.value||new Range(e.value,r).test(this.value);if(\"\"===e.operator)return\"\"===e.value||new Range(this.value,r).test(e.semver);const t=!(\">=\"!==this.operator&&\">\"!==this.operator||\">=\"!==e.operator&&\">\"!==e.operator),s=!(\"<=\"!==this.operator&&\"<\"!==this.operator||\"<=\"!==e.operator&&\"<\"!==e.operator),i=this.semver.version===e.semver.version,o=!(\">=\"!==this.operator&&\"<=\"!==this.operator||\">=\"!==e.operator&&\"<=\"!==e.operator),a=cmp_1(this.semver,\"<\",e.semver,r)&&(\">=\"===this.operator||\">\"===this.operator)&&(\"<=\"===e.operator||\"<\"===e.operator),n=cmp_1(this.semver,\">\",e.semver,r)&&(\"<=\"===this.operator||\"<\"===this.operator)&&(\">=\"===e.operator||\">\"===e.operator);return t||s||i&&o||a||n}}const{re:re$3,t:t$3}=re_1;class Range{constructor(e,r){if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof Range)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new Range(e.raw,r);if(e instanceof Comparator)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\\s*\\|\\|\\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format()}format(){return this.range=this.set.map(e=>e.join(\" \").trim()).join(\"||\").trim(),this.range}toString(){return this.range}parseRange(e){const{loose:r}=this.options;e=e.trim();const t=r?re$2[t$2.HYPHENRANGELOOSE]:re$2[t$2.HYPHENRANGE];e=e.replace(t,hyphenReplace(this.options.includePrerelease)),debug_1(\"hyphen replace\",e),e=e.replace(re$2[t$2.COMPARATORTRIM],comparatorTrimReplace),debug_1(\"comparator trim\",e,re$2[t$2.COMPARATORTRIM]),e=(e=(e=e.replace(re$2[t$2.TILDETRIM],tildeTrimReplace)).replace(re$2[t$2.CARETTRIM],caretTrimReplace)).split(/\\s+/).join(\" \");const s=r?re$2[t$2.COMPARATORLOOSE]:re$2[t$2.COMPARATOR];return e.split(\" \").map(e=>parseComparator(e,this.options)).join(\" \").split(/\\s+/).map(e=>replaceGTE0(e,this.options)).filter(this.options.loose?e=>!!e.match(s):()=>!0).map(e=>new Comparator(e,this.options))}intersects(e,r){if(!(e instanceof Range))throw new TypeError(\"a Range is required\");return this.set.some(t=>isSatisfiable(t,r)&&e.set.some(e=>isSatisfiable(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))))}test(e){if(!e)return!1;if(\"string\"==typeof e)try{e=new SemVer(e,this.options)}catch(e){return!1}for(let r=0;r<this.set.length;r++)if(testSet(this.set[r],e,this.options))return!0;return!1}}const{re:re$2,t:t$2,comparatorTrimReplace:comparatorTrimReplace,tildeTrimReplace:tildeTrimReplace,caretTrimReplace:caretTrimReplace}=re_1,isSatisfiable=(e,r)=>{let t=!0;const s=e.slice();let i=s.pop();for(;t&&s.length;)t=s.every(e=>i.intersects(e,r)),i=s.pop();return t},parseComparator=(e,r)=>(debug_1(\"comp\",e,r),e=replaceCarets(e,r),debug_1(\"caret\",e),e=replaceTildes(e,r),debug_1(\"tildes\",e),e=replaceXRanges(e,r),debug_1(\"xrange\",e),e=replaceStars(e,r),debug_1(\"stars\",e),e),isX=e=>!e||\"x\"===e.toLowerCase()||\"*\"===e,replaceTildes=(e,r)=>e.trim().split(/\\s+/).map(e=>replaceTilde(e,r)).join(\" \"),replaceTilde=(e,r)=>{const t=r.loose?re$2[t$2.TILDELOOSE]:re$2[t$2.TILDE];return e.replace(t,(r,t,s,i,o)=>{let a;return debug_1(\"tilde\",e,r,t,s,i,o),isX(t)?a=\"\":isX(s)?a=`>=${t}.0.0 <${+t+1}.0.0-0`:isX(i)?a=`>=${t}.${s}.0 <${t}.${+s+1}.0-0`:o?(debug_1(\"replaceTilde pr\",o),a=`>=${t}.${s}.${i}-${o} <${t}.${+s+1}.0-0`):a=`>=${t}.${s}.${i} <${t}.${+s+1}.0-0`,debug_1(\"tilde return\",a),a})},replaceCarets=(e,r)=>e.trim().split(/\\s+/).map(e=>replaceCaret(e,r)).join(\" \"),replaceCaret=(e,r)=>{debug_1(\"caret\",e,r);const t=r.loose?re$2[t$2.CARETLOOSE]:re$2[t$2.CARET],s=r.includePrerelease?\"-0\":\"\";return e.replace(t,(r,t,i,o,a)=>{let n;return debug_1(\"caret\",e,r,t,i,o,a),isX(t)?n=\"\":isX(i)?n=`>=${t}.0.0${s} <${+t+1}.0.0-0`:isX(o)?n=\"0\"===t?`>=${t}.${i}.0${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.0${s} <${+t+1}.0.0-0`:a?(debug_1(\"replaceCaret pr\",a),n=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}-${a} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}-${a} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o}-${a} <${+t+1}.0.0-0`):(debug_1(\"no pr\"),n=\"0\"===t?\"0\"===i?`>=${t}.${i}.${o}${s} <${t}.${i}.${+o+1}-0`:`>=${t}.${i}.${o}${s} <${t}.${+i+1}.0-0`:`>=${t}.${i}.${o} <${+t+1}.0.0-0`),debug_1(\"caret return\",n),n})},replaceXRanges=(e,r)=>(debug_1(\"replaceXRanges\",e,r),e.split(/\\s+/).map(e=>replaceXRange(e,r)).join(\" \")),replaceXRange=(e,r)=>{e=e.trim();const t=r.loose?re$2[t$2.XRANGELOOSE]:re$2[t$2.XRANGE];return e.replace(t,(t,s,i,o,a,n)=>{debug_1(\"xRange\",e,t,s,i,o,a,n);const E=isX(i),p=E||isX(o),l=p||isX(a),c=l;return\"=\"===s&&c&&(s=\"\"),n=r.includePrerelease?\"-0\":\"\",E?t=\">\"===s||\"<\"===s?\"<0.0.0-0\":\"*\":s&&c?(p&&(o=0),a=0,\">\"===s?(s=\">=\",p?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):\"<=\"===s&&(s=\"<\",p?i=+i+1:o=+o+1),\"<\"===s&&(n=\"-0\"),t=`${s+i}.${o}.${a}${n}`):p?t=`>=${i}.0.0${n} <${+i+1}.0.0-0`:l&&(t=`>=${i}.${o}.0${n} <${i}.${+o+1}.0-0`),debug_1(\"xRange return\",t),t})},replaceStars=(e,r)=>(debug_1(\"replaceStars\",e,r),e.trim().replace(re$2[t$2.STAR],\"\")),replaceGTE0=(e,r)=>(debug_1(\"replaceGTE0\",e,r),e.trim().replace(re$2[r.includePrerelease?t$2.GTE0PRE:t$2.GTE0],\"\")),hyphenReplace=e=>(r,t,s,i,o,a,n,E,p,l,c,$,h)=>`${t=isX(s)?\"\":isX(i)?`>=${s}.0.0${e?\"-0\":\"\"}`:isX(o)?`>=${s}.${i}.0${e?\"-0\":\"\"}`:a?`>=${t}`:`>=${t}${e?\"-0\":\"\"}`} ${E=isX(p)?\"\":isX(l)?`<${+p+1}.0.0-0`:isX(c)?`<${p}.${+l+1}.0-0`:$?`<=${p}.${l}.${c}-${$}`:e?`<${p}.${l}.${+c+1}-0`:`<=${E}`}`.trim(),testSet=(e,r,t)=>{for(let t=0;t<e.length;t++)if(!e[t].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(let t=0;t<e.length;t++)if(debug_1(e[t].semver),e[t].semver!==Comparator.ANY&&e[t].semver.prerelease.length>0){const s=e[t].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0};export const satisfies=(e,r,t)=>{try{r=new Range(r,t)}catch(e){return!1}return r.test(e)};const satisfies_1=satisfies,{MAX_LENGTH:MAX_LENGTH}=constants,{re:re$1,t:t$1}=re_1,parse=(e,r)=>{if(r&&\"object\"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof SemVer)return e;if(\"string\"!=typeof e)return null;if(e.length>MAX_LENGTH)return null;if(!(r.loose?re$1[t$1.LOOSE]:re$1[t$1.FULL]).test(e))return null;try{return new SemVer(e,r)}catch(e){return null}},parse_1=parse,{re:re,t:t}=re_1;export const coerce=(e,r)=>{if(e instanceof SemVer)return e;if(\"number\"==typeof e&&(e=String(e)),\"string\"!=typeof e)return null;let s=null;if((r=r||{}).rtl){let r;for(;(r=re[t.COERCERTL].exec(e))&&(!s||s.index+s[0].length!==e.length);)s&&r.index+r[0].length===s.index+s[0].length||(s=r),re[t.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;re[t.COERCERTL].lastIndex=-1}else s=e.match(re[t.COERCE]);return null===s?null:parse_1(`${s[2]}.${s[3]||\"0\"}.${s[4]||\"0\"}`,r)};\n","function percentToByte(p: string) {\n  return String.fromCharCode(parseInt(p.slice(1), 16));\n}\n\nfunction byteToPercent(b: string) {\n  return `%${`00${b.charCodeAt(0).toString(16)}`.slice(-2)}`;\n}\n\n/**\n * Encodes a Base64 string. Safe for UTF-8 characters.\n * Original source is from the `universal-base64` NPM package.\n *\n * @source https://github.com/blakeembrey/universal-base64/blob/master/src/browser.ts\n */\nfunction btoaUTF8(str: string): string {\n  return btoa(encodeURIComponent(str).replace(/%[0-9A-F]{2}/g, percentToByte));\n}\n\n/**\n * Decodes a Base64 string. Safe for UTF-8 characters.\n * Original source is from the `universal-base64` NPM package.\n *\n * @source https://github.com/blakeembrey/universal-base64/blob/master/src/browser.ts\n */\nfunction atobUTF8(str: string): string {\n  return decodeURIComponent(Array.from(atob(str), byteToPercent).join(''));\n}\n\n/**\n * Given a JSON-serializable object, encode as a Base64 string.\n */\nexport function encodeJSON<T>(options: T): string {\n  return btoaUTF8(JSON.stringify(options));\n}\n\n/**\n * Given a Base64 JSON string, decode a JavaScript object.\n */\nexport function decodeJSON<T>(queryString: string): T {\n  return JSON.parse(atobUTF8(queryString));\n}\n","import { JsonRpcError, RPCErrorCode, SDKErrorCode, SDKWarningCode } from '@magic-sdk/types';\nimport { isJsonRpcErrorCode } from '../util/type-guards';\nimport { SDKEnvironment } from './sdk-environment';\nimport { Extension } from '../modules/base-extension';\n\n// --- Error/warning classes\n\n/**\n * This error type represents internal SDK errors. This could be developer\n * mistakes (or Magic's mistakes), or execution errors unrelated to standard\n * JavaScript exceptions.\n */\nexport class MagicSDKError extends Error {\n  __proto__ = Error;\n\n  constructor(public code: SDKErrorCode, public rawMessage: string) {\n    super(`Magic SDK Error: [${code}] ${rawMessage}`);\n    Object.setPrototypeOf(this, MagicSDKError.prototype);\n  }\n}\n\n/**\n * This error type communicates exceptions that occur during execution in the\n * Magic `<iframe>` context.\n */\nexport class MagicRPCError extends Error {\n  __proto__ = Error;\n\n  public code: RPCErrorCode | number;\n  public rawMessage: string;\n\n  constructor(sourceError?: JsonRpcError | null) {\n    super();\n\n    const codeNormalized = Number(sourceError?.code);\n    this.rawMessage = sourceError?.message || 'Internal error';\n    this.code = isJsonRpcErrorCode(codeNormalized) ? codeNormalized : RPCErrorCode.InternalError;\n    this.message = `Magic RPC Error: [${this.code}] ${this.rawMessage}`;\n\n    Object.setPrototypeOf(this, MagicRPCError.prototype);\n  }\n}\n\n/**\n * In contrast to `SDKError` objects, this \"warning\" type communicates important\n * context that does not rise to the level of an exception. These should be\n * logged rather than thrown.\n */\nexport class MagicSDKWarning {\n  public message: string;\n\n  constructor(public code: SDKWarningCode, public rawMessage: string) {\n    this.message = `Magic SDK Warning: [${code}] ${rawMessage}`;\n  }\n\n  /**\n   * Logs this warning to the console.\n   */\n  public log() {\n    console.warn(this.message);\n  }\n}\n\n/**\n * This error type is reserved for communicating errors that arise during\n * execution of Magic SDK Extension methods. Compare this to the `SDKError`\n * type, specifically in context of Extensions.\n */\nexport class MagicExtensionError<TData = any> extends Error {\n  __proto__ = Error;\n\n  constructor(ext: Extension<string>, public code: string | number, public rawMessage: string, public data: TData) {\n    super(`Magic Extension Error (${ext.name}): [${code}] ${rawMessage}`);\n    Object.setPrototypeOf(this, MagicExtensionError.prototype);\n  }\n}\n\n/**\n * In contrast to `MagicExtensionError` objects, this \"warning\" type\n * communicates important context that does not rise to the level of an\n * exception. These should be logged rather than thrown.\n */\nexport class MagicExtensionWarning {\n  public message: string;\n\n  constructor(ext: Extension<string>, public code: string | number, public rawMessage: string) {\n    this.message = `Magic Extension Warning (${ext.name}): [${code}] ${rawMessage}`;\n  }\n\n  /**\n   * Logs this warning to the console.\n   */\n  public log() {\n    console.warn(this.message);\n  }\n}\n\n// --- SDK error factories\n\nexport function createMissingApiKeyError() {\n  return new MagicSDKError(\n    SDKErrorCode.MissingApiKey,\n    'Please provide an API key that you acquired from the Magic developer dashboard.',\n  );\n}\n\nexport function createModalNotReadyError() {\n  return new MagicSDKError(SDKErrorCode.ModalNotReady, 'Modal is not ready.');\n}\n\nexport function createMalformedResponseError() {\n  return new MagicSDKError(SDKErrorCode.MalformedResponse, 'Response from the Magic iframe is malformed.');\n}\n\nexport function createExtensionNotInitializedError(member: string) {\n  return new MagicSDKError(\n    SDKErrorCode.ExtensionNotInitialized,\n    `Extensions must be initialized with a Magic SDK instance before \\`Extension.${member}\\` can be accessed. Do not invoke \\`Extension.${member}\\` inside an extension constructor.`,\n  );\n}\n\nexport function createIncompatibleExtensionsError(extensions: Extension<string>[]) {\n  let msg = `Some extensions are incompatible with \\`${SDKEnvironment.sdkName}@${SDKEnvironment.version}\\`:`;\n\n  extensions\n    .filter((ext) => typeof ext.compat !== 'undefined' && ext.compat !== null)\n    .forEach((ext) => {\n      const compat = ext.compat![SDKEnvironment.sdkName];\n\n      /* istanbul ignore else */\n      if (typeof compat === 'string') {\n        msg += `\\n  - Extension \\`${ext.name}\\` supports version(s) \\`${compat}\\``;\n      } else if (!compat) {\n        msg += `\\n  - Extension \\`${ext.name}\\` does not support ${SDKEnvironment.platform} environments.`;\n      }\n\n      // Else case is irrelevant here here\n      // (we filter out extensions with missing `compat` field)\n    });\n\n  return new MagicSDKError(SDKErrorCode.IncompatibleExtensions, msg);\n}\n\nexport function createInvalidArgumentError(options: {\n  procedure: string;\n  argument: number;\n  expected: string;\n  received: string;\n}) {\n  /**\n   * Parses the argument index (given by `argument`) to attach the correct ordinal suffix.\n   * (i.e.: 1st, 2nd, 3rd, 4th, etc.)\n   */\n  const ordinalSuffix = (i: number) => {\n    const iAdjusted = i + 1; // Argument is zero-indexed.\n    const j = iAdjusted % 10;\n    const k = iAdjusted % 100;\n    if (j === 1 && k !== 11) return `${iAdjusted}st`;\n    if (j === 2 && k !== 12) return `${iAdjusted}nd`;\n    if (j === 3 && k !== 13) return `${iAdjusted}rd`;\n    return `${iAdjusted}th`;\n  };\n\n  return new MagicSDKError(\n    SDKErrorCode.InvalidArgument,\n    `Invalid ${ordinalSuffix(options.argument)} argument given to \\`${options.procedure}\\`.\\n` +\n      `  Expected: \\`${options.expected}\\`\\n` +\n      `  Received: \\`${options.received}\\``,\n  );\n}\n\n// --- SDK warning factories\n\nexport function createDuplicateIframeWarning() {\n  return new MagicSDKWarning(SDKWarningCode.DuplicateIframe, 'Duplicate iframes found.');\n}\n\nexport function createSynchronousWeb3MethodWarning() {\n  return new MagicSDKWarning(\n    SDKWarningCode.SyncWeb3Method,\n    'Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.',\n  );\n}\n\nexport function createReactNativeEndpointConfigurationWarning() {\n  return new MagicSDKWarning(\n    SDKWarningCode.ReactNativeEndpointConfiguration,\n    `CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \\`endpoint\\` parameter SHOULD NOT be provided. The Magic \\`<iframe>\\` is automatically wrapped by a WebView pointed at \\`${SDKEnvironment.defaultEndpoint}\\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`,\n  );\n}\n\nexport function createDeprecationWarning(options: {\n  method: string;\n  removalVersions: {\n    [P in\n      | 'magic-sdk'\n      | '@magic-sdk/react-native'\n      | '@magic-sdk/react-native-bare'\n      | '@magic-sdk/react-native-expo']: string;\n  };\n  useInstead?: string;\n}) {\n  const { method, removalVersions, useInstead } = options;\n\n  const removalVersion = removalVersions[SDKEnvironment.sdkName];\n  const useInsteadSuffix = useInstead ? ` Use \\`${useInstead}\\` instead.` : '';\n  const message = `\\`${method}\\` will be removed from \\`${SDKEnvironment.sdkName}\\` in version \\`${removalVersion}\\`.${useInsteadSuffix}`;\n\n  return new MagicSDKWarning(SDKWarningCode.DeprecationNotice, message);\n}\n","/**\n * This file contains our type guards.\n *\n * Type guards are a feature of TypeScript which narrow the type signature of\n * intesection types (types that can be one thing or another).\n *\n * @see\n * https://www.typescriptlang.org/docs/handbook/advanced-types.html#type-guards-and-differentiating-types\n */\n\nimport { JsonRpcRequestPayload, JsonRpcResponsePayload, MagicPayloadMethod, RPCErrorCode } from '@magic-sdk/types';\n\n/**\n * Assert `value` is `undefined`.\n */\nfunction isUndefined(value: any): value is undefined {\n  return typeof value === 'undefined';\n}\n\n/**\n * Assert `value` is `null`.\n */\nfunction isNull(value: any): value is null {\n  return value === null;\n}\n\n/**\n * Assert `value` is `null` or `undefined`.\n */\nfunction isNil(value: any): value is null | undefined {\n  return isNull(value) || isUndefined(value);\n}\n\n/**\n * Assert `value` is a `JsonRpcRequestPayload` object.\n */\nexport function isJsonRpcRequestPayload(value?: JsonRpcRequestPayload): value is JsonRpcRequestPayload {\n  if (isNil(value)) return false;\n  return (\n    !isUndefined(value.jsonrpc) && !isUndefined(value.id) && !isUndefined(value.method) && !isUndefined(value.params)\n  );\n}\n\n/**\n * Assert `value` is a `JsonRpcResponsePayload` object.\n */\nexport function isJsonRpcResponsePayload(value: any): value is JsonRpcResponsePayload {\n  if (isNil(value)) return false;\n  return (\n    !isUndefined(value.jsonrpc) && !isUndefined(value.id) && (!isUndefined(value.result) || !isUndefined(value.error))\n  );\n}\n\n/**\n * Assert `value` is a Magic SDK payload method identifier.\n */\nexport function isMagicPayloadMethod(value?: any): value is MagicPayloadMethod {\n  if (isNil(value)) return false;\n  return typeof value === 'string' && Object.values(MagicPayloadMethod).includes(value as any);\n}\n\n/**\n * Assert `value` is an expected JSON RPC error code.\n */\nexport function isJsonRpcErrorCode(value?: any): value is RPCErrorCode {\n  if (isNil(value)) return false;\n  return typeof value === 'number' && Object.values(RPCErrorCode).includes(value);\n}\n\n/**\n * Assert `value` is an empty, plain object.\n */\nexport function isEmpty(value?: any): value is {} {\n  if (!value) return true;\n\n  for (const key in value) {\n    /* istanbul ignore else */\n    if (Object.hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import type localForage from 'localforage';\nimport type { ViewController } from './view-controller';\nimport type { SDKBase } from './sdk';\nimport type { WithExtensions } from '../modules/base-extension';\n\ntype ConstructorOf<C> = { new (...args: any[]): C };\n\n/**\n * A structure containing details about the current environment.\n * This is guaranteed to be populated before the SDK is instantiated.\n */\nexport interface SDKEnvironment {\n  sdkName: 'magic-sdk' | '@magic-sdk/react-native' | '@magic-sdk/react-native-bare' | '@magic-sdk/react-native-expo';\n  version: string;\n  platform: 'web' | 'react-native';\n  defaultEndpoint: string;\n  ViewController: ConstructorOf<ViewController>;\n  configureStorage: () => Promise<typeof localForage>;\n  bundleId?: string | null;\n}\n\nexport const SDKEnvironment: SDKEnvironment = {} as any;\n\nexport function createSDK<SDK extends SDKBase>(\n  SDKBaseCtor: ConstructorOf<SDK>,\n  environment: SDKEnvironment,\n): WithExtensions<SDK> {\n  Object.assign(SDKEnvironment, environment);\n  return SDKBaseCtor as any;\n}\n\nexport const sdkNameToEnvName = {\n  'magic-sdk': 'magic-sdk' as const,\n  '@magic-sdk/react-native': 'magic-sdk-rn' as const,\n  '@magic-sdk/react-native-bare': 'magic-sdk-rn-bare' as const,\n  '@magic-sdk/react-native-expo': 'magic-sdk-rn-expo' as const,\n};\n","import {\n  MagicPayloadMethod,\n  LoginWithMagicLinkConfiguration,\n  LoginWithSmsConfiguration,\n  LoginWithEmailOTPConfiguration,\n  LoginWithEmailOTPEvents,\n  LoginWithMagicLinkEvents,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { SDKEnvironment } from '../core/sdk-environment';\n\nexport class AuthModule extends BaseModule {\n  /**\n   * Initiate the \"magic link\" login flow for a user. If the flow is successful,\n   * this method will return a Decentralized ID token (with a default lifespan\n   * of 15 minutes).\n   */\n  public loginWithMagicLink(configuration: LoginWithMagicLinkConfiguration) {\n    const { email, showUI = true, redirectURI } = configuration;\n\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithMagicLinkTestMode : MagicPayloadMethod.LoginWithMagicLink,\n      [{ email, showUI, redirectURI }],\n    );\n    return this.request<string | null, LoginWithMagicLinkEvents>(requestPayload);\n  }\n\n  /**\n   * Initiate an SMS login flow for a user. If successful,\n   * this method will return a Decenteralized ID token (with a default lifespan\n   * of 15 minutes)\n   */\n  public loginWithSMS(configuration: LoginWithSmsConfiguration) {\n    const { phoneNumber } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithSmsTestMode : MagicPayloadMethod.LoginWithSms,\n      [{ phoneNumber, showUI: true }],\n    );\n    return this.request<string | null>(requestPayload);\n  }\n\n  /**\n   * Initiate an Email with OTP login flow for a user. If successful,\n   * this method will return a Decenteralized ID token (with a default lifespan\n   * of 15 minutes)\n   */\n  public loginWithEmailOTP(configuration: LoginWithEmailOTPConfiguration) {\n    const { email, showUI } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithEmailOTPTestMode : MagicPayloadMethod.LoginWithEmailOTP,\n      [{ email, showUI }],\n    );\n    if (!showUI) {\n      const handle = this.request<string | null, LoginWithEmailOTPEvents>(requestPayload);\n      if (handle) {\n        handle.on('otp-input-sent', (otp: string) => {\n          this.createIntermediaryEvent('verify-email-otp', requestPayload.id as any)(otp);\n        });\n      }\n      return handle;\n    }\n    return this.request<string | null, LoginWithEmailOTPEvents>(requestPayload);\n  }\n\n  /**\n   * Log a user in with a special one-time-use credential token. This is\n   * currently used during magic link flows with a configured redirect to\n   * hydrate the user session at the end of the flow. If the flow is successful,\n   * this method will return a Decentralized ID token (with a default lifespan\n   * of 15 minutes).\n   *\n   * If no argument is provided, a credential is automatically parsed from\n   * `window.location.search`.\n   */\n  public loginWithCredential(credentialOrQueryString?: string) {\n    let credentialResolved = credentialOrQueryString ?? '';\n\n    if (!credentialOrQueryString && SDKEnvironment.platform === 'web') {\n      credentialResolved = window.location.search;\n\n      // Remove the query from the redirect callback as a precaution.\n      const urlWithoutQuery = window.location.origin + window.location.pathname;\n      window.history.replaceState(null, '', urlWithoutQuery);\n    }\n\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LoginWithCredentialTestMode : MagicPayloadMethod.LoginWithCredential,\n      [credentialResolved],\n    );\n\n    return this.request<string | null>(requestPayload);\n  }\n}\n","import {\n  JsonRpcRequestPayload,\n  MagicOutgoingWindowMessage,\n  MagicIncomingWindowMessage,\n  MagicPayloadMethod,\n  IntermediaryEvents,\n} from '@magic-sdk/types';\nimport { createMalformedResponseError, MagicRPCError } from '../core/sdk-exceptions';\nimport type { SDKBase } from '../core/sdk';\nimport { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload } from '../core/json-rpc';\nimport { createPromiEvent } from '../util/promise-tools';\nimport type { ViewController } from '../core/view-controller';\nimport type { EventsDefinition } from '../util/events';\n\nexport class BaseModule {\n  constructor(protected sdk: SDKBase) {}\n\n  /**\n   * The `ViewController` for the SDK instance registered to this module.\n   */\n  protected get overlay(): ViewController {\n    return (this.sdk as any).overlay;\n  }\n\n  /**\n   * Emits promisified requests to the Magic `<iframe>` context.\n   */\n  protected request<ResultType = any, Events extends EventsDefinition = void>(payload: Partial<JsonRpcRequestPayload>) {\n    const responsePromise = this.overlay.post<ResultType>(\n      MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST,\n      standardizeJsonRpcRequestPayload(payload),\n    );\n\n    // PromiEvent-ify the response.\n    const promiEvent = createPromiEvent<ResultType, Events>((resolve, reject) => {\n      responsePromise\n        .then((res) => {\n          cleanupEvents();\n          if (res.hasError) reject(new MagicRPCError(res.payload.error));\n          else if (res.hasResult) resolve(res.payload.result as ResultType);\n          else throw createMalformedResponseError();\n        })\n        .catch((err) => {\n          cleanupEvents();\n          reject(err);\n        });\n    });\n\n    // Listen for events from the `<iframe>` associated with the current payload\n    // and emit those to `PromiEvent` subscribers.\n    const cleanupEvents = this.overlay.on(MagicIncomingWindowMessage.MAGIC_HANDLE_EVENT, (evt) => {\n      const { response } = evt.data;\n\n      if (response.id === payload.id && response.result?.event) {\n        const { event, params = [] } = response.result;\n        promiEvent.emit(event, ...params);\n      }\n    });\n\n    return promiEvent;\n  }\n\n  // Creates an intermediary event which takes a typed event and a payload ID\n  protected createIntermediaryEvent<T = Function>(eventType: IntermediaryEvents, payloadId: string) {\n    const e = (args: any) => {\n      const res = createJsonRpcRequestPayload(MagicPayloadMethod.IntermediaryEvent, [{ payloadId, eventType, args }]);\n      this.request(res);\n    };\n    return e as unknown as T;\n  }\n}\n","function* createIntGenerator(): Generator<number, number, void> {\n  let index = 0;\n\n  while (true) {\n    /* istanbul ignore next */\n    if (index < Number.MAX_SAFE_INTEGER) yield ++index;\n    else index = 0;\n  }\n}\n\nconst intGenerator = createIntGenerator();\n\n/**\n * Get an integer ID for attaching to a JSON RPC request payload.\n */\nexport function getPayloadId(): number {\n  return intGenerator.next().value;\n}\n","/* eslint-disable no-param-reassign */\n\nimport { JsonRpcRequestPayload, JsonRpcResponsePayload, JsonRpcError } from '@magic-sdk/types';\nimport { isJsonRpcResponsePayload } from '../util/type-guards';\nimport { getPayloadId } from '../util/get-payload-id';\n\nconst payloadPreprocessedSymbol = Symbol('Payload pre-processed by Magic SDK');\n\n/**\n * To avoid \"pre-processing\" a payload more than once (and needlessly\n * incrementing our payload ID generator), we attach a symbol to detect a\n * payloads we've already visited.\n */\nfunction markPayloadAsPreprocessed<T extends Partial<JsonRpcRequestPayload>>(payload: T): T {\n  Object.defineProperty(payload, payloadPreprocessedSymbol, {\n    value: true,\n    enumerable: false,\n  });\n\n  return payload;\n}\n\n/**\n * Returns `true` if the payload has been visited by our \"pre-processing,\" in\n * `standardizeJsonRpcRequestPayload(...)`.\n */\nfunction isPayloadPreprocessed<T extends Partial<JsonRpcRequestPayload>>(payload: T) {\n  return !!(payload as any)[payloadPreprocessedSymbol];\n}\n\n/**\n * Returns a full `JsonRpcRequestPayload` from a potentially incomplete payload\n * object. This method mutates the given `payload` to preserve compatibility\n * with external libraries that perform their own `JsonRpcRequestPayload.id`\n * check to associate responses (such as `web3`).\n *\n * This function is no-op if the payload has already been processed before.\n */\nexport function standardizeJsonRpcRequestPayload(payload: Partial<JsonRpcRequestPayload>) {\n  if (!isPayloadPreprocessed(payload)) {\n    payload.jsonrpc = payload.jsonrpc ?? '2.0';\n    payload.id = getPayloadId();\n    payload.method = payload.method ?? 'noop';\n    payload.params = payload.params ?? [];\n\n    markPayloadAsPreprocessed(payload);\n  }\n\n  /* eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion */\n  return payload as JsonRpcRequestPayload;\n}\n\n/**\n * Build a valid JSON RPC payload for emitting to the Magic SDK iframe relayer.\n */\nexport function createJsonRpcRequestPayload(method: string, params: any[] = []): JsonRpcRequestPayload {\n  return markPayloadAsPreprocessed({\n    params,\n    method,\n    jsonrpc: '2.0',\n    id: getPayloadId(),\n  });\n}\n\n/**\n * Formats and standardizes a JSON RPC 2.0 response from a number of potential\n * sources.\n */\nexport class JsonRpcResponse<ResultType = any> {\n  private readonly _jsonrpc: string;\n  private readonly _id: string | number | null;\n  private _result?: ResultType | null;\n  private _error?: JsonRpcError | null;\n\n  constructor(responsePayload: JsonRpcResponsePayload);\n  constructor(response: JsonRpcResponse<ResultType>);\n  constructor(requestPayload: JsonRpcRequestPayload);\n  constructor(responseOrPayload: JsonRpcResponsePayload | JsonRpcResponse<ResultType> | JsonRpcRequestPayload) {\n    if (responseOrPayload instanceof JsonRpcResponse) {\n      this._jsonrpc = responseOrPayload.payload.jsonrpc;\n      this._id = responseOrPayload.payload.id;\n      this._result = responseOrPayload.payload.result;\n      this._error = responseOrPayload.payload.error;\n    } else if (isJsonRpcResponsePayload(responseOrPayload)) {\n      this._jsonrpc = responseOrPayload.jsonrpc;\n      this._id = responseOrPayload.id;\n      this._result = responseOrPayload.result;\n      this._error = responseOrPayload.error;\n    } else {\n      this._jsonrpc = responseOrPayload.jsonrpc;\n      this._id = responseOrPayload.id;\n      this._result = undefined;\n      this._error = undefined;\n    }\n  }\n\n  public applyError(error?: JsonRpcError | null) {\n    this._error = error;\n    return this;\n  }\n\n  public applyResult(result?: ResultType | null) {\n    this._result = result;\n    return this;\n  }\n\n  public get hasError() {\n    return typeof this._error !== 'undefined' && this._error !== null;\n  }\n\n  public get hasResult() {\n    return typeof this._result !== 'undefined';\n  }\n\n  public get payload(): JsonRpcResponsePayload {\n    return {\n      jsonrpc: this._jsonrpc,\n      id: this._id,\n      result: this._result,\n      error: this._error,\n    };\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nexport type EventsDefinition = { [K in string | symbol]: (...args: any[]) => void } | void;\n\n/**\n * An extension of `EventEmitter` (provided by `eventemitter3`) with an adjusted\n * type interface that supports the unique structure of Magic SDK modules.\n */\nexport class TypedEmitter<Events extends EventsDefinition = void> extends EventEmitter<\n  Events extends void ? string | symbol : Events\n> {}\n\ntype ChainingMethods = 'on' | 'once' | 'addListener' | 'off' | 'removeListener' | 'removeAllListeners';\ntype NonChainingMethods = 'emit' | 'eventNames' | 'listeners' | 'listenerCount';\n\ntype ReplaceReturnType<T extends (...a: any) => any, TNewReturn> = (...a: Parameters<T>) => TNewReturn;\n\n/**\n * Creates a `TypedEmitter` instance and returns helper functions for easily\n * mixing `TypedEmitter` methods into other objects.\n */\nexport function createTypedEmitter<Events extends EventsDefinition = void>() {\n  const emitter = new TypedEmitter<Events>();\n\n  const createChainingEmitterMethod = <T1 extends ChainingMethods, T2>(\n    method: T1,\n    source: T2,\n  ): ReplaceReturnType<TypedEmitter[T1], T2> => {\n    return (...args: any[]) => {\n      (emitter as any)[method].apply(emitter, args);\n      return source;\n    };\n  };\n\n  const createBoundEmitterMethod = <T extends NonChainingMethods>(method: T): TypedEmitter[T] => {\n    return (...args: any[]) => {\n      return (emitter as any)[method].apply(emitter, args);\n    };\n  };\n\n  return {\n    emitter,\n    createChainingEmitterMethod,\n    createBoundEmitterMethod,\n  };\n}\n","import { TypedEmitter, EventsDefinition, createTypedEmitter } from './events';\n\n/**\n * Extends `Promise` with a polymorphic `this` type to accomodate arbitrary\n * `Promise` API extensions.\n */\ninterface ExtendedPromise<T> extends Promise<T> {\n  then<TResult1 = T, TResult2 = never>(\n    onfulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n    onrejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n  ): ExtendedPromise<TResult1 | TResult2> & this;\n\n  catch<TResult = never>(\n    onrejected?: ((reason: any) => TResult | PromiseLike<TResult>) | undefined | null,\n  ): ExtendedPromise<T | TResult> & this;\n\n  finally(onfinally?: (() => void) | undefined | null): ExtendedPromise<T> & this;\n}\n\n/**\n * A `Promise` and `EventEmitter` all in one!\n */\nexport type PromiEvent<TResult, TEvents extends EventsDefinition = void> = ExtendedPromise<TResult> &\n  TypedEmitter<TEvents extends void ? DefaultEvents<TResult> : TEvents & DefaultEvents<TResult>>;\n\n/**\n * Default events attached to every `PromiEvent`.\n */\ntype DefaultEvents<TResult> = {\n  done: (result: TResult) => void;\n  error: (reason: any) => void;\n  settled: () => void;\n};\n\n/**\n * A `Promise` executor with can be optionally asynchronous.\n */\ntype AsyncPromiseExecutor<TResult> = (\n  resolve: (value: TResult | PromiseLike<TResult>) => void,\n  reject: (reason?: any) => void,\n) => void | Promise<void>;\n\nconst promiEventBrand = Symbol('isPromiEvent');\n\n/**\n * Returns `true` if the given `value` is a `PromiEvent`.\n */\nexport function isPromiEvent(value: any): value is PromiEvent<any> {\n  return !!value[promiEventBrand];\n}\n\n/**\n * Create a native JavaScript `Promise` overloaded with strongly-typed methods\n * from `EventEmitter`.\n */\nexport function createPromiEvent<TResult, TEvents extends EventsDefinition = void>(\n  executor: AsyncPromiseExecutor<TResult>,\n): PromiEvent<TResult, TEvents extends void ? DefaultEvents<TResult> : TEvents & DefaultEvents<TResult>> {\n  const promise = createPromise(executor);\n  const { createBoundEmitterMethod, createChainingEmitterMethod } = createTypedEmitter<\n    TEvents & DefaultEvents<TResult>\n  >();\n\n  // We save the original `Promise` methods to the following symbols so we can\n  // access them internally.\n  const thenSymbol = Symbol('Promise.then');\n  const catchSymbol = Symbol('Promise.catch');\n  const finallySymbol = Symbol('Promise.finally');\n\n  /**\n   * Ensures the next object in the `PromiEvent` chain is overloaded with\n   * `EventEmitter` methods.\n   */\n  const createChainingPromiseMethod =\n    (method: typeof thenSymbol | typeof catchSymbol | typeof finallySymbol, source: Promise<any>) =>\n    (...args: any[]) => {\n      const nextPromise = (source as any)[method].apply(source, args);\n      return promiEvent(nextPromise);\n    };\n\n  /**\n   * Builds a `PromiEvent` by assigning `EventEmitter` methods to a native\n   * `Promise` object.\n   */\n  const promiEvent = (source: any) => {\n    return Object.assign(source, {\n      [promiEventBrand]: true,\n\n      [thenSymbol]: source[thenSymbol] || source.then,\n      [catchSymbol]: source[catchSymbol] || source.catch,\n      [finallySymbol]: source[finallySymbol] || source.finally,\n\n      then: createChainingPromiseMethod(thenSymbol, source),\n      catch: createChainingPromiseMethod(catchSymbol, source),\n      finally: createChainingPromiseMethod(finallySymbol, source),\n\n      on: createChainingEmitterMethod('on', source),\n      once: createChainingEmitterMethod('once', source),\n      addListener: createChainingEmitterMethod('addListener', source),\n\n      off: createChainingEmitterMethod('off', source),\n      removeListener: createChainingEmitterMethod('removeListener', source),\n      removeAllListeners: createChainingEmitterMethod('removeAllListeners', source),\n\n      emit: createBoundEmitterMethod('emit'),\n      eventNames: createBoundEmitterMethod('eventNames'),\n      listeners: createBoundEmitterMethod('listeners'),\n      listenerCount: createBoundEmitterMethod('listenerCount'),\n    });\n  };\n\n  const result = promiEvent(\n    promise.then(\n      (resolved) => {\n        // Emit default completion events and resolve result.\n        result.emit('done', resolved);\n        result.emit('settled');\n        return resolved;\n      },\n\n      (err) => {\n        // Emit default error events and re-throw.\n        result.emit('error', err);\n        result.emit('settled');\n        throw err;\n      },\n    ),\n  );\n\n  return result;\n}\n\n/**\n * Creates a `Promise` with an **async executor** that automatically catches\n * errors occurring within the executor. Nesting promises in this way is usually\n * deemed an _anti-pattern_, but it's useful and clean when promisifying the\n * event-based code that's inherent to JSON RPC.\n *\n * So, here we solve the issue of nested promises by ensuring that no errors\n * mistakenly go unhandled!\n */\nexport function createPromise<TResult>(executor: AsyncPromiseExecutor<TResult>) {\n  return new Promise<TResult>((resolve, reject) => {\n    const result = executor(resolve, reject);\n    Promise.resolve(result).catch(reject);\n  });\n}\n","import {\n  GetIdTokenConfiguration,\n  MagicPayloadMethod,\n  MagicUserMetadata,\n  GenerateIdTokenConfiguration,\n  UpdateEmailConfiguration,\n  RecoverAccountConfiguration,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { clearKeys } from '../util/web-crypto';\n\ntype UpdateEmailEvents = {\n  'email-sent': () => void;\n  'email-not-deliverable': () => void;\n  'old-email-confirmed': () => void;\n  'new-email-confirmed': () => void;\n  retry: () => void;\n};\nexport class UserModule extends BaseModule {\n  public getIdToken(configuration?: GetIdTokenConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GetIdTokenTestMode : MagicPayloadMethod.GetIdToken,\n      [configuration],\n    );\n    return this.request<string>(requestPayload);\n  }\n\n  public generateIdToken(configuration?: GenerateIdTokenConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GenerateIdTokenTestMode : MagicPayloadMethod.GenerateIdToken,\n      [configuration],\n    );\n    return this.request<string>(requestPayload);\n  }\n\n  public getMetadata() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.GetMetadataTestMode : MagicPayloadMethod.GetMetadata,\n    );\n    return this.request<MagicUserMetadata>(requestPayload);\n  }\n\n  public updateEmail(configuration: UpdateEmailConfiguration) {\n    const { email, showUI = true } = configuration;\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UpdateEmailTestMode : MagicPayloadMethod.UpdateEmail,\n      [{ email, showUI }],\n    );\n    return this.request<string | null, UpdateEmailEvents>(requestPayload);\n  }\n\n  public isLoggedIn() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.IsLoggedInTestMode : MagicPayloadMethod.IsLoggedIn,\n    );\n    return this.request<boolean>(requestPayload);\n  }\n\n  public logout() {\n    clearKeys();\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.LogoutTestMode : MagicPayloadMethod.Logout,\n    );\n    return this.request<boolean>(requestPayload);\n  }\n\n  public showSettings() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UserSettingsTestMode : MagicPayloadMethod.UserSettings,\n    );\n    return this.request<MagicUserMetadata>(requestPayload);\n  }\n\n  public updatePhoneNumber() {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.UpdatePhoneNumberTestMode : MagicPayloadMethod.UpdatePhoneNumber,\n    );\n    return this.request<string | null>(requestPayload);\n  }\n\n  public recoverAccount(configuration: RecoverAccountConfiguration) {\n    const requestPayload = createJsonRpcRequestPayload(\n      this.sdk.testMode ? MagicPayloadMethod.RecoverAccountTestMode : MagicPayloadMethod.RecoverAccount,\n      [configuration],\n    );\n    return this.request<boolean | null>(requestPayload);\n  }\n}\n","import { SDKEnvironment } from '../core/sdk-environment';\n\nlet lf: LocalForage;\n\n/**\n * Proxies `localforage` methods with strong-typing.\n */\nfunction proxyLocalForageMethod<TMethod extends keyof LocalForageDbMethods>(method: TMethod): LocalForage[TMethod] {\n  return async (...args: any[]) => {\n    /* istanbul ignore else */\n    if (!lf) lf = await SDKEnvironment.configureStorage();\n    await lf.ready();\n    return (lf[method] as any)(...args);\n  };\n}\n\nexport const getItem = proxyLocalForageMethod('getItem');\nexport const setItem = proxyLocalForageMethod('setItem');\nexport const removeItem = proxyLocalForageMethod('removeItem');\nexport const clear = proxyLocalForageMethod('clear');\nexport const length = proxyLocalForageMethod('length');\nexport const key = proxyLocalForageMethod('key');\nexport const keys = proxyLocalForageMethod('keys');\nexport const iterate = proxyLocalForageMethod('iterate');\n","/* eslint-disable no-bitwise */\nexport function uuid() {\n  const u = window.crypto.getRandomValues(new Uint8Array(16));\n\n  // set the version bit to v4\n  u[6] = (u[6] & 0x0f) | 0x40;\n\n  // set the variant bit to \"don't care\" (yes, the RFC\n  // calls it that)\n  u[8] = (u[8] & 0xbf) | 0x80;\n\n  // hex encode them and add the dashes\n  let uid = '';\n  uid += u[0].toString(16);\n  uid += u[1].toString(16);\n  uid += u[2].toString(16);\n  uid += u[3].toString(16);\n  uid += '-';\n\n  uid += u[4].toString(16);\n  uid += u[5].toString(16);\n  uid += '-';\n\n  uid += u[6].toString(16);\n  uid += u[7].toString(16);\n  uid += '-';\n\n  uid += u[8].toString(16);\n  uid += u[9].toString(16);\n  uid += '-';\n\n  uid += u[10].toString(16);\n  uid += u[11].toString(16);\n  uid += u[12].toString(16);\n  uid += u[13].toString(16);\n  uid += u[14].toString(16);\n  uid += u[15].toString(16);\n\n  return uid;\n}\n","import { setItem, getItem, removeItem } from './storage';\nimport { uuid } from './uuid';\n\nexport const STORE_KEY_PRIVATE_KEY = 'STORE_KEY_PRIVATE_KEY';\nexport const STORE_KEY_PUBLIC_JWK = 'STORE_KEY_PUBLIC_JWK';\nconst ALGO_NAME = 'ECDSA';\nconst ALGO_CURVE = 'P-256';\n\nconst EC_GEN_PARAMS: EcKeyGenParams = {\n  name: ALGO_NAME,\n  namedCurve: ALGO_CURVE,\n};\nconst EC_IMPORT_PARAMS: EcKeyImportParams = {\n  name: ALGO_NAME,\n  namedCurve: ALGO_CURVE,\n};\n\nexport function clearKeys() {\n  removeItem(STORE_KEY_PUBLIC_JWK);\n  removeItem(STORE_KEY_PRIVATE_KEY);\n}\n\nexport async function createJwt() {\n  // will return undefiend is webcrypto is not supported\n  const publicJwk = await getPublicKey();\n\n  if (!publicJwk) {\n    console.info('unable to create public key or webcrypto is unsupported');\n    return undefined;\n  }\n\n  const { subtle } = window.crypto;\n  const privateJwk = await getItem<CryptoKey>(STORE_KEY_PRIVATE_KEY);\n\n  if (!privateJwk || !subtle) {\n    console.info('unable to find private key or webcrypto unsupported');\n    return undefined;\n  }\n\n  const claims = {\n    iat: Math.floor(new Date().getTime() / 1000),\n    jti: uuid(),\n  };\n\n  const headers = {\n    typ: 'dpop+jwt',\n    alg: 'ES256',\n    jwk: publicJwk,\n  };\n\n  const jws = {\n    protected: strToUrlBase64(JSON.stringify(headers)),\n    claims: strToUrlBase64(JSON.stringify(claims)),\n  };\n\n  const data = strToUint8(`${jws.protected}.${jws.claims}`);\n  const sigType = { name: ALGO_NAME, hash: { name: 'SHA-256' } };\n\n  const sig = uint8ToUrlBase64(new Uint8Array(await subtle.sign(sigType, privateJwk, data)));\n  return `${jws.protected}.${jws.claims}.${sig}`;\n}\n\nasync function getPublicKey() {\n  if (!isWebCryptoSupported()) {\n    console.info('webcrypto is not supported');\n    return undefined;\n  }\n\n  if (!(await getItem(STORE_KEY_PUBLIC_JWK))) {\n    await generateWCKP();\n  }\n\n  return getItem(STORE_KEY_PUBLIC_JWK) as JsonWebKey;\n}\n\nasync function generateWCKP() {\n  // to avoid a nasty babel bug we have to hoist this above the await ourselves\n  // https://github.com/rpetrich/babel-plugin-transform-async-to-promises/issues/20\n  let jwkPublicKey = null;\n  const { subtle } = window.crypto;\n  const kp = await subtle.generateKey(\n    EC_GEN_PARAMS,\n    true, // need to export the public key which means private exports too\n    ['sign'],\n  );\n\n  // export keys so we can send the public key.\n  const jwkPrivateKey = await subtle.exportKey('jwk', kp.privateKey!);\n  jwkPublicKey = await subtle.exportKey('jwk', kp.publicKey!);\n\n  // reimport the private key so it becomes non exportable when persisting.\n  const nonExportPrivateKey = await subtle.importKey('jwk', jwkPrivateKey, EC_IMPORT_PARAMS, false, ['sign']);\n\n  // persist keys\n  await setItem(STORE_KEY_PRIVATE_KEY, nonExportPrivateKey);\n  // persist the jwk public key since it needs to be exported anyways\n  await setItem(STORE_KEY_PUBLIC_JWK, jwkPublicKey);\n}\n\nfunction isWebCryptoSupported() {\n  const hasCrypto = typeof window !== 'undefined' && !!(window.crypto as any);\n  const hasSubtleCrypto = hasCrypto && !!(window.crypto.subtle as any);\n\n  return hasCrypto && hasSubtleCrypto;\n}\n\nfunction strToUrlBase64(str: string) {\n  return binToUrlBase64(utf8ToBinaryString(str));\n}\n\nfunction strToUint8(str: string) {\n  return new TextEncoder().encode(str);\n}\n\nfunction binToUrlBase64(bin: string) {\n  return btoa(bin).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=+/g, '');\n}\n\nfunction utf8ToBinaryString(str: string) {\n  const escstr = encodeURIComponent(str);\n  // replaces any uri escape sequence, such as %0A,\n  // with binary escape, such as 0x0A\n  return escstr.replace(/%([0-9A-F]{2})/g, (_, p1) => String.fromCharCode(parseInt(p1, 16)));\n}\n\nfunction uint8ToUrlBase64(uint8: Uint8Array) {\n  let bin = '';\n  uint8.forEach((code) => {\n    bin += String.fromCharCode(code);\n  });\n  return binToUrlBase64(bin);\n}\n","import { MagicPayloadMethod, RequestUserInfoScope, UserInfo, WalletInfo } from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createJsonRpcRequestPayload } from '../core/json-rpc';\nimport { clearKeys } from '../util/web-crypto';\n\nexport class WalletModule extends BaseModule {\n  /* Prompt Magic's Login Form */\n  public connectWithUI() {\n    const requestPayload = createJsonRpcRequestPayload(MagicPayloadMethod.RequestAccounts);\n    return this.request<string[]>(requestPayload);\n  }\n\n  /* Prompt Magic's Wallet UI (not available for users logged in with third party wallets) */\n  public showUI() {\n    const requestPayload = createJsonRpcRequestPayload(MagicPayloadMethod.ShowUI);\n    return this.request<boolean>(requestPayload);\n  }\n\n  /* Get user info such as the wallet type they are logged in with */\n  public getInfo() {\n    const requestPayload = createJsonRpcRequestPayload(MagicPayloadMethod.GetInfo);\n    return this.request<WalletInfo>(requestPayload);\n  }\n\n  /* Request email address from logged in user */\n  public requestUserInfoWithUI(scope?: RequestUserInfoScope) {\n    const requestPayload = createJsonRpcRequestPayload(MagicPayloadMethod.RequestUserInfoWithUI, scope ? [scope] : []);\n    return this.request<UserInfo>(requestPayload);\n  }\n\n  /* Logout user */\n  public disconnect() {\n    clearKeys();\n    const requestPayload = createJsonRpcRequestPayload(MagicPayloadMethod.Disconnect);\n    return this.request<boolean>(requestPayload);\n  }\n}\n","/* eslint-disable consistent-return, prefer-spread */\n\nimport {\n  JsonRpcRequestPayload,\n  JsonRpcRequestCallback,\n  MagicOutgoingWindowMessage,\n  JsonRpcBatchRequestCallback,\n  JsonRpcResponsePayload,\n} from '@magic-sdk/types';\nimport { BaseModule } from './base-module';\nimport { createInvalidArgumentError, MagicRPCError, createSynchronousWeb3MethodWarning } from '../core/sdk-exceptions';\nimport { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload, JsonRpcResponse } from '../core/json-rpc';\nimport { PromiEvent } from '../util/promise-tools';\nimport { createTypedEmitter, EventsDefinition, TypedEmitter } from '../util/events';\n\nconst { createBoundEmitterMethod, createChainingEmitterMethod } = createTypedEmitter();\n\n/** */\nexport class RPCProviderModule extends BaseModule implements TypedEmitter {\n  // Implements EIP 1193:\n  // https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1193.md\n\n  public readonly isMagic = true;\n\n  /* eslint-disable prettier/prettier */\n  public sendAsync(payload: Partial<JsonRpcRequestPayload>, onRequestComplete: JsonRpcRequestCallback): void;\n  public sendAsync(payload: Partial<JsonRpcRequestPayload>[], onRequestComplete: JsonRpcBatchRequestCallback): void;\n  public sendAsync(\n    payload: Partial<JsonRpcRequestPayload> | Partial<JsonRpcRequestPayload>[],\n    onRequestComplete: JsonRpcRequestCallback | JsonRpcBatchRequestCallback,\n  ): void;\n  /* eslint-enable prettier/prettier */\n  public sendAsync(\n    payload: Partial<JsonRpcRequestPayload> | Partial<JsonRpcRequestPayload>[],\n    onRequestComplete: JsonRpcRequestCallback | JsonRpcBatchRequestCallback,\n  ): void {\n    if (!onRequestComplete) {\n      throw createInvalidArgumentError({\n        procedure: 'Magic.rpcProvider.sendAsync',\n        argument: 1,\n        expected: 'function',\n        received: onRequestComplete === null ? 'null' : typeof onRequestComplete,\n      });\n    }\n\n    if (Array.isArray(payload)) {\n      this.overlay\n        .post(\n          MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST,\n          payload.map((p) => {\n            const standardizedPayload = standardizeJsonRpcRequestPayload(p);\n            this.prefixPayloadMethodForTestMode(standardizedPayload);\n            return standardizedPayload;\n          }),\n        )\n        .then((batchResponse) => {\n          (onRequestComplete as JsonRpcBatchRequestCallback)(\n            null,\n            batchResponse.map((response) => ({\n              ...response.payload,\n              error: response.hasError ? new MagicRPCError(response.payload.error) : null,\n            })),\n          );\n        });\n    } else {\n      const finalPayload = standardizeJsonRpcRequestPayload(payload);\n      this.prefixPayloadMethodForTestMode(finalPayload);\n      this.overlay.post(MagicOutgoingWindowMessage.MAGIC_HANDLE_REQUEST, finalPayload).then((response) => {\n        (onRequestComplete as JsonRpcRequestCallback)(\n          response.hasError ? new MagicRPCError(response.payload.error) : null,\n          response.payload,\n        );\n      });\n    }\n  }\n\n  /* eslint-disable prettier/prettier */\n  public send<ResultType = any>(method: string, params?: any[]): PromiEvent<ResultType>;\n  public send(\n    payload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n    onRequestComplete: JsonRpcRequestCallback,\n  ): void;\n  public send<ResultType>(payload: JsonRpcRequestPayload, none: void): JsonRpcResponsePayload<ResultType>;\n  /* eslint-enable prettier/prettier */\n  public send<ResultType = any>(\n    payloadOrMethod: string | JsonRpcRequestPayload | JsonRpcRequestPayload[],\n    onRequestCompleteOrParams: JsonRpcRequestCallback | any[] | void,\n  ): PromiEvent<ResultType> | JsonRpcResponsePayload<ResultType> | void {\n    // Case #1\n    // Web3 >= 1.0.0-beta.38 calls `send` with method and parameters.\n    if (typeof payloadOrMethod === 'string') {\n      const payload = createJsonRpcRequestPayload(\n        payloadOrMethod,\n        Array.isArray(onRequestCompleteOrParams) ? onRequestCompleteOrParams : [],\n      );\n      return this.request(payload) as any;\n    }\n\n    // Case #2\n    // Web3 <= 1.0.0-beta.37 uses `send` with a callback for async queries.\n    if (Array.isArray(payloadOrMethod) || !!onRequestCompleteOrParams) {\n      /* eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion */\n      this.sendAsync(payloadOrMethod, onRequestCompleteOrParams as any);\n      return;\n    }\n\n    // Case #3\n    // Legacy synchronous methods (unsupported).\n    const warning = createSynchronousWeb3MethodWarning();\n    warning.log();\n    return new JsonRpcResponse(payloadOrMethod).applyError({\n      code: -32603,\n      message: warning.rawMessage,\n    }).payload;\n  }\n\n  public enable() {\n    const requestPayload = createJsonRpcRequestPayload('eth_accounts');\n    return this.request<string[]>(requestPayload);\n  }\n\n  /**\n   * Here, we wrap `BaseModule.request` with an additional check\n   * to determine if the RPC method requires a test-mode prefix.\n   */\n  protected request<ResultType = any, Events extends EventsDefinition = void>(payload: Partial<JsonRpcRequestPayload>) {\n    this.prefixPayloadMethodForTestMode(payload);\n    return super.request<ResultType, Events>(payload);\n  }\n\n  /**\n   * Prefixes Ethereum RPC methods with a `testMode` identifier. This is done so\n   * that Magic's <iframe> can handle signing methods using test-specific keys.\n   */\n  private prefixPayloadMethodForTestMode(payload: Partial<JsonRpcRequestPayload>) {\n    const testModePrefix = 'testMode/eth/';\n\n    // In test mode, we prefix all RPC methods with `test/` so that the\n    // Magic <iframe> can handle them without requiring network calls.\n    if (this.sdk.testMode) {\n      // eslint-disable-next-line no-param-reassign\n      payload.method = `${testModePrefix}${payload.method}`;\n    }\n  }\n\n  public on = createChainingEmitterMethod('on', this);\n  public once = createChainingEmitterMethod('once', this);\n  public addListener = createChainingEmitterMethod('addListener', this);\n\n  public off = createChainingEmitterMethod('off', this);\n  public removeListener = createChainingEmitterMethod('removeListener', this);\n  public removeAllListeners = createChainingEmitterMethod('removeAllListeners', this);\n\n  public emit = createBoundEmitterMethod('emit');\n  public eventNames = createBoundEmitterMethod('eventNames');\n  public listeners = createBoundEmitterMethod('listeners');\n  public listenerCount = createBoundEmitterMethod('listenerCount');\n}\n","/**\n * Builds a `URL` object safely.\n */\nexport function createURL(url: string, base?: string): URL {\n  // Safari raises an error if `undefined` is given to the second argument of\n  // the `URL` constructor.\n  return base ? new URL(url, base) : new URL(url);\n}\n","import { createJsonRpcRequestPayload, standardizeJsonRpcRequestPayload } from '../core/json-rpc';\nimport { BaseModule } from './base-module';\nimport { SDKBase, MagicSDKAdditionalConfiguration, MagicSDKExtensionsOption } from '../core/sdk';\nimport { createExtensionNotInitializedError, MagicExtensionError, MagicExtensionWarning } from '../core/sdk-exceptions';\nimport { createPromiEvent, encodeJSON, decodeJSON, storage, isPromiEvent } from '../util';\n\ntype AnonymousExtension = 'anonymous extension';\n\ninterface BaseExtension<TName extends string = AnonymousExtension> extends BaseModule {\n  /**\n   * A structure describing the platform and version compatiblity of this\n   * extension.\n   */\n  compat?: {\n    'magic-sdk': boolean | string;\n    '@magic-sdk/react-native': boolean | string;\n    '@magic-sdk/react-native-bare': boolean | string;\n    '@magic-sdk/react-native-expo': boolean | string;\n  };\n}\n\nconst sdkAccessFields = ['request', 'overlay', 'sdk'];\n\n/**\n * From the `BaseExtension`-derived instance, get the prototype\n * chain up to and including the `BaseModule` class.\n */\nfunction getPrototypeChain<T extends BaseExtension<string>>(instance: T) {\n  let currentProto = Object.getPrototypeOf(instance);\n  const protos = [currentProto];\n\n  while (currentProto !== BaseModule.prototype) {\n    currentProto = Object.getPrototypeOf(currentProto);\n    protos.push(currentProto);\n  }\n\n  return protos;\n}\n\nabstract class BaseExtension<TName extends string = AnonymousExtension> extends BaseModule {\n  public abstract readonly name: TName;\n\n  private __sdk_access_field_descriptors__ = new Map<\n    string,\n    { descriptor: PropertyDescriptor; isPrototypeField: boolean }\n  >();\n  private __is_initialized__ = false;\n\n  protected utils = {\n    createPromiEvent,\n    isPromiEvent,\n    encodeJSON,\n    decodeJSON,\n    createJsonRpcRequestPayload,\n    standardizeJsonRpcRequestPayload,\n    storage,\n  };\n\n  constructor() {\n    super(undefined as any);\n\n    // Disallow SDK access before initialization...\n\n    const allSources = [this, ...getPrototypeChain(this)];\n\n    sdkAccessFields.forEach((prop) => {\n      const allDescriptors = allSources.map((source) => Object.getOwnPropertyDescriptor(source, prop));\n      const sourceIndex = allDescriptors.findIndex((x) => !!x);\n      const isPrototypeField = sourceIndex > 0;\n      const descriptor = allDescriptors[sourceIndex];\n\n      /* istanbul ignore else */\n      if (descriptor) {\n        this.__sdk_access_field_descriptors__.set(prop, { descriptor, isPrototypeField });\n\n        Object.defineProperty(this, prop, {\n          configurable: true,\n          get: () => {\n            throw createExtensionNotInitializedError(prop);\n          },\n        });\n      }\n    });\n  }\n\n  /**\n   * Registers a Magic SDK instance with this Extension.\n   *\n   * @internal\n   */\n  public init(sdk: SDKBase) {\n    if (this.__is_initialized__) return;\n\n    // Replace original property descriptors\n    // for SDK access fields post-initialization.\n    sdkAccessFields.forEach((prop) => {\n      /* istanbul ignore else */\n      if (this.__sdk_access_field_descriptors__.has(prop)) {\n        const { descriptor, isPrototypeField } = this.__sdk_access_field_descriptors__.get(prop)!;\n\n        if (isPrototypeField) {\n          // For prototype fields, we just need the `delete` operator so that\n          // the instance will fallback to the prototype chain itself.\n          delete this[prop as keyof this];\n        } else {\n          Object.defineProperty(this, prop, descriptor);\n        }\n      }\n    });\n\n    this.sdk = sdk;\n    this.__is_initialized__ = true;\n  }\n\n  /**\n   * Creates a deprecation warning wrapped with a native Magic SDK warning type.\n   * Best practice is to warn users of upcoming deprecations at least one major\n   * version before the change is implemented. You can use this method to\n   * communicate deprecations in a manner consistent with Magic SDK core code.\n   */\n  protected createDeprecationWarning(options: {\n    method: string;\n    removalVersion: string;\n    useInstead?: string;\n  }): MagicExtensionWarning {\n    const { method, removalVersion, useInstead } = options;\n\n    const useInsteadSuffix = useInstead ? ` Use \\`${useInstead}\\` instead.` : '';\n    const message = `\\`${method}\\` will be removed from this Extension in version \\`${removalVersion}\\`.${useInsteadSuffix}`;\n    return new MagicExtensionWarning(this, 'DEPRECATION_NOTICE', message);\n  }\n\n  /**\n   * Creates a warning wrapped with a native Magic SDK warning type. This\n   * maintains consistency in warning messaging for consumers of Magic SDK and\n   * this Extension.\n   */\n  protected createWarning(code: string | number, message: string): MagicExtensionWarning {\n    return new MagicExtensionWarning(this, code, message);\n  }\n\n  /**\n   * Creates an error wrapped with a native Magic SDK error type. This maintains\n   * consistency in error handling for consumers of Magic SDK and this\n   * Extension.\n   */\n  protected createError<TData = any>(code: string | number, message: string, data: TData): MagicExtensionError<TData> {\n    return new MagicExtensionError<TData>(this, code, message, data);\n  }\n}\n\nabstract class InternalExtension<TName extends string, TConfig extends any = any> extends BaseExtension<TName> {\n  public abstract readonly config: TConfig;\n}\n\n/**\n * A base class representing \"extensions\" to the core Magic JS APIs. Extensions\n * enable new functionality by composing Magic endpoints methods together.\n */\nexport abstract class Extension<TName extends string = AnonymousExtension> extends BaseExtension<TName> {\n  /**\n   * This is a special constructor used to mark \"official\" extensions. These\n   * extensions are designed for special interaction with the Magic iframe using\n   * custom JSON RPC methods, business logic, and global configurations. This is\n   * intended for internal-use only (and provides no useful advantage to\n   * open-source extension developers over the regular `Extension` class).\n   *\n   * @internal\n   */\n  public static Internal = InternalExtension;\n  public static Anonymous: AnonymousExtension = 'anonymous extension';\n}\n\n/**\n * These fields are exposed on the `Extension` type,\n * but should be hidden from the public interface.\n */\ntype HiddenExtensionFields = 'name' | 'init' | 'config' | 'compat';\n\n/**\n * Gets the type contained in an array type.\n */\ntype UnwrapArray<T extends any[]> = T extends Array<infer P> ? P : never;\n\n/**\n * Create a union type of Extension names from an\n * array of Extension types given by `TExt`.\n */\ntype ExtensionNames<TExt extends Extension<string>[]> = UnwrapArray<TExt> extends Extension<infer R> ? R : never;\n\n/**\n * From the literal Extension name type given by `TExtName`,\n * extract a dictionary of Extension types.\n */\ntype GetExtensionFromName<TExt extends Extension<string>[], TExtName extends string> = {\n  [P in TExtName]: Extract<UnwrapArray<TExt>, Extension<TExtName>>;\n}[TExtName];\n\n/**\n * Wraps a Magic SDK constructor with the necessary type\n * information to support a strongly-typed `Extension` interface.\n */\nexport type WithExtensions<SDK extends SDKBase> = {\n  new <TCustomExtName extends string, TExt extends MagicSDKExtensionsOption<TCustomExtName>>(\n    apiKey: string,\n    options?: MagicSDKAdditionalConfiguration<TCustomExtName, TExt>,\n  ): InstanceWithExtensions<SDK, TExt>;\n};\n\nexport type InstanceWithExtensions<SDK extends SDKBase, TExt extends MagicSDKExtensionsOption> = SDK &\n  {\n    [P in Exclude<\n      TExt extends Extension<string>[] ? ExtensionNames<TExt> : keyof TExt,\n      number | AnonymousExtension\n    >]: TExt extends Extension<string>[]\n      ? Omit<GetExtensionFromName<TExt, P>, HiddenExtensionFields>\n      : TExt extends {\n          [P in Exclude<\n            TExt extends Extension<string>[] ? ExtensionNames<TExt> : keyof TExt,\n            number | AnonymousExtension\n          >]: Extension<string>;\n        }\n      ? Omit<TExt[P], HiddenExtensionFields>\n      : never;\n  };\n","/* eslint-disable no-param-reassign  */\n\nimport { EthNetworkConfiguration, QueryParameters, SupportedLocale } from '@magic-sdk/types';\nimport type { AbstractProvider } from 'web3-core';\nimport { coerce, satisfies } from '../util/semver';\nimport { encodeJSON } from '../util/base64-json';\nimport {\n  createMissingApiKeyError,\n  createReactNativeEndpointConfigurationWarning,\n  createIncompatibleExtensionsError,\n} from './sdk-exceptions';\nimport { AuthModule } from '../modules/auth';\nimport { UserModule } from '../modules/user';\nimport { WalletModule } from '../modules/wallet';\nimport { RPCProviderModule } from '../modules/rpc-provider';\nimport { ViewController } from './view-controller';\nimport { createURL } from '../util/url';\nimport { Extension } from '../modules/base-extension';\nimport { isEmpty } from '../util/type-guards';\nimport { SDKEnvironment, sdkNameToEnvName } from './sdk-environment';\n\n/**\n * Checks if the given `ext` is compatible with the platform & version of Magic\n * SDK currently in use.\n */\nfunction checkExtensionCompat(ext: Extension<string>) {\n  if (ext.compat && ext.compat[SDKEnvironment.sdkName] != null) {\n    return typeof ext.compat[SDKEnvironment.sdkName] === 'string'\n      ? satisfies(coerce(SDKEnvironment.version), ext.compat[SDKEnvironment.sdkName] as string)\n      : !!ext.compat[SDKEnvironment.sdkName];\n  }\n\n  // To gracefully support older extensions, we assume\n  // compatibility when the `compat` field is missing.\n  return true;\n}\n\n/**\n * Initializes SDK extensions, checks for platform/version compatiblity issues,\n * then consolidates any global configurations provided by those extensions.\n */\nfunction prepareExtensions(this: SDKBase, options?: MagicSDKAdditionalConfiguration): Record<string, any> {\n  const extensions: Extension<string>[] | { [key: string]: Extension<string> } = options?.extensions ?? [];\n  const extConfig: any = {};\n  const incompatibleExtensions: Extension<string>[] = [];\n\n  if (Array.isArray(extensions)) {\n    extensions.forEach((ext) => {\n      if (checkExtensionCompat(ext)) {\n        ext.init(this);\n        if (ext.name || ext.name !== Extension.Anonymous) {\n          // Only apply extensions with a known, defined `name` parameter.\n          (this as any)[ext.name] = ext;\n        }\n        if (ext instanceof Extension.Internal) {\n          if (!isEmpty(ext.config)) extConfig[ext.name] = ext.config;\n        }\n      } else {\n        incompatibleExtensions.push(ext);\n      }\n    });\n  } else {\n    Object.keys(extensions).forEach((name) => {\n      if (checkExtensionCompat(extensions[name])) {\n        extensions[name].init(this);\n        const ext = extensions[name];\n        (this as any)[name] = ext;\n        if (ext instanceof Extension.Internal) {\n          if (!isEmpty(ext.config)) extConfig[extensions[name].name] = ext.config;\n        }\n      } else {\n        incompatibleExtensions.push(extensions[name]);\n      }\n    });\n  }\n\n  if (incompatibleExtensions.length) {\n    throw createIncompatibleExtensionsError(incompatibleExtensions);\n  }\n\n  return extConfig;\n}\n\nexport type MagicSDKExtensionsOption<TCustomExtName extends string = string> =\n  | Extension<string>[]\n  | { [P in TCustomExtName]: Extension<string> };\n\nexport interface MagicSDKAdditionalConfiguration<\n  TCustomExtName extends string = string,\n  TExt extends MagicSDKExtensionsOption<TCustomExtName> = any,\n> {\n  endpoint?: string;\n  locale?: SupportedLocale;\n  network?: EthNetworkConfiguration;\n  extensions?: TExt;\n  testMode?: boolean;\n}\n\nexport class SDKBase {\n  private static readonly __overlays__: Map<string, ViewController> = new Map();\n\n  protected readonly endpoint: string;\n  protected readonly parameters: string;\n  public readonly testMode: boolean;\n\n  /**\n   * Contains methods for starting a Magic SDK authentication flow.\n   */\n  public readonly auth: AuthModule;\n\n  /**\n   * Contains methods for interacting with user data, checking login\n   * status, generating cryptographically-secure ID tokens, and more.\n   */\n  public readonly user: UserModule;\n\n  /**\n   * Contains methods previously under the `ConnectExtension`, including\n   * login, show wallet UI, request user info, and more.\n   */\n  public readonly wallet: WalletModule;\n\n  /**\n   * Contains a Web3-compliant provider. Pass this module to your Web3/Ethers\n   * instance for automatic compatibility with Ethereum methods.\n   */\n  public readonly rpcProvider: RPCProviderModule & AbstractProvider;\n\n  /**\n   * Creates an instance of Magic SDK.\n   */\n  constructor(public readonly apiKey: string, options?: MagicSDKAdditionalConfiguration) {\n    if (!apiKey) throw createMissingApiKeyError();\n\n    if (SDKEnvironment.platform === 'react-native' && options?.endpoint) {\n      createReactNativeEndpointConfigurationWarning().log();\n    }\n\n    const { defaultEndpoint, version } = SDKEnvironment;\n    this.testMode = !!options?.testMode;\n    this.endpoint = createURL(options?.endpoint ?? defaultEndpoint).origin;\n\n    // Prepare built-in modules\n    this.auth = new AuthModule(this);\n    this.user = new UserModule(this);\n    this.wallet = new WalletModule(this);\n    this.rpcProvider = new RPCProviderModule(this) as any;\n\n    // Prepare extensions\n    const extConfig: any = prepareExtensions.call(this, options);\n\n    // Encode parameters as base64-JSON\n    this.parameters = encodeJSON<QueryParameters>({\n      API_KEY: this.apiKey,\n      DOMAIN_ORIGIN: window.location ? window.location.origin : '',\n      ETH_NETWORK: options?.network,\n      host: createURL(this.endpoint).host,\n      sdk: sdkNameToEnvName[SDKEnvironment.sdkName],\n      version,\n      ext: isEmpty(extConfig) ? undefined : extConfig,\n      locale: options?.locale || 'en_US',\n      ...(SDKEnvironment.bundleId ? { bundleId: SDKEnvironment.bundleId } : {}),\n    });\n  }\n\n  /**\n   * Represents the view controller associated with this `MagicSDK` instance.\n   */\n  protected get overlay(): ViewController {\n    if (!SDKBase.__overlays__.has(this.parameters)) {\n      const controller = new SDKEnvironment.ViewController(this.endpoint, this.parameters);\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore - We don't want to expose this method to the user, but we\n      // need to invoke in here so that the `ViewController` is ready for use.\n      controller.init();\n\n      SDKBase.__overlays__.set(this.parameters, controller);\n    }\n\n    return SDKBase.__overlays__.get(this.parameters)!;\n  }\n\n  /**\n   * Preloads the Magic view, allowing for faster initial requests in browser\n   * environments. Awaiting the returned promise will signal when the Magic view\n   * has completed loading and is ready for requests.\n   */\n  public async preload() {\n    await this.overlay.ready;\n  }\n}\n","import {\n  MagicIncomingWindowMessage,\n  MagicOutgoingWindowMessage,\n  JsonRpcRequestPayload,\n  MagicMessageEvent,\n  MagicMessageRequest,\n} from '@magic-sdk/types';\nimport { JsonRpcResponse } from './json-rpc';\nimport { createPromise } from '../util/promise-tools';\nimport { getItem, setItem } from '../util/storage';\nimport { createJwt } from '../util/web-crypto';\nimport { SDKEnvironment } from './sdk-environment';\n\ninterface RemoveEventListenerFunction {\n  (): void;\n}\n\ninterface StandardizedResponse {\n  id?: string | number;\n  response?: JsonRpcResponse;\n}\n\n/**\n * Get the originating payload from a batch request using the specified `id`.\n */\nfunction getRequestPayloadFromBatch(\n  requestPayload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  id?: string | number | null,\n): JsonRpcRequestPayload | undefined {\n  return id && Array.isArray(requestPayload)\n    ? requestPayload.find((p) => p.id === id)\n    : (requestPayload as JsonRpcRequestPayload);\n}\n\n/**\n * Ensures the incoming response follows the expected schema and parses for a\n * JSON RPC payload ID.\n */\nfunction standardizeResponse(\n  requestPayload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  event: MagicMessageEvent,\n): StandardizedResponse {\n  const id = event.data.response?.id;\n  const requestPayloadResolved = getRequestPayloadFromBatch(requestPayload, id);\n\n  if (id && requestPayloadResolved) {\n    // Build a standardized response object\n    const response = new JsonRpcResponse(requestPayloadResolved)\n      .applyResult(event.data.response.result)\n      .applyError(event.data.response.error);\n\n    return { id, response };\n  }\n\n  return {};\n}\n\nasync function createMagicRequest(msgType: string, payload: JsonRpcRequestPayload | JsonRpcRequestPayload[]) {\n  const rt = await getItem<string>('rt');\n  let jwt;\n\n  // only for webcrypto platforms\n  if (SDKEnvironment.platform === 'web') {\n    try {\n      jwt = await createJwt();\n    } catch (e) {\n      console.error('webcrypto error', e);\n    }\n  }\n\n  if (!jwt) {\n    return { msgType, payload };\n  }\n\n  if (!rt) {\n    return { msgType, payload, jwt };\n  }\n\n  return { msgType, payload, jwt, rt };\n}\n\nasync function persistMagicEventRefreshToken(event: MagicMessageEvent) {\n  if (!event.data.rt) {\n    return;\n  }\n\n  await setItem('rt', event.data.rt);\n}\n\nexport abstract class ViewController {\n  public ready: Promise<void>;\n  protected readonly messageHandlers = new Set<(event: MagicMessageEvent) => any>();\n\n  /**\n   * Create an instance of `ViewController`\n   *\n   * @param endpoint - The URL for the relevant iframe context.\n   * @param parameters - The unique, encoded query parameters for the\n   * relevant iframe context.\n   */\n  constructor(protected readonly endpoint: string, protected readonly parameters: string) {\n    this.ready = this.waitForReady();\n    this.listen();\n  }\n\n  protected abstract init(): void;\n  protected abstract _post(data: MagicMessageRequest): Promise<void>;\n  protected abstract hideOverlay(): void;\n  protected abstract showOverlay(): void;\n\n  /**\n   * Send a payload to the Magic `<iframe>` for processing and automatically\n   * handle the acknowledging follow-up event(s).\n   *\n   * @param msgType - The type of message to encode with the data.\n   * @param payload - The JSON RPC payload to emit via `window.postMessage`.\n   */\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload[],\n  ): Promise<JsonRpcResponse<ResultType>[]>;\n\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload,\n  ): Promise<JsonRpcResponse<ResultType>>;\n\n  public async post<ResultType = any>(\n    msgType: MagicOutgoingWindowMessage,\n    payload: JsonRpcRequestPayload | JsonRpcRequestPayload[],\n  ): Promise<JsonRpcResponse<ResultType> | JsonRpcResponse<ResultType>[]> {\n    return createPromise(async (resolve) => {\n      await this.ready;\n\n      const batchData: JsonRpcResponse[] = [];\n      const batchIds = Array.isArray(payload) ? payload.map((p) => p.id) : [];\n      const msg = await createMagicRequest(`${msgType}-${this.parameters}`, payload);\n\n      await this._post(msg);\n\n      /**\n       * Collect successful RPC responses and resolve.\n       */\n      const acknowledgeResponse = (removeEventListener: RemoveEventListenerFunction) => (event: MagicMessageEvent) => {\n        const { id, response } = standardizeResponse(payload, event);\n        persistMagicEventRefreshToken(event);\n\n        if (id && response && Array.isArray(payload) && batchIds.includes(id)) {\n          batchData.push(response);\n\n          // For batch requests, we wait for all responses before resolving.\n          if (batchData.length === payload.length) {\n            removeEventListener();\n            resolve(batchData);\n          }\n        } else if (id && response && !Array.isArray(payload) && id === payload.id) {\n          removeEventListener();\n          resolve(response);\n        }\n      };\n\n      // Listen for and handle responses.\n      const removeResponseListener = this.on(\n        MagicIncomingWindowMessage.MAGIC_HANDLE_RESPONSE,\n        acknowledgeResponse(() => removeResponseListener()),\n      );\n    });\n  }\n\n  /**\n   * Listen for events received with the given `msgType`.\n   *\n   * @param msgType - The `msgType` encoded with the event data.\n   * @param handler - A handler function to execute on each event received.\n   * @return A `void` function to remove the attached event.\n   */\n  public on(\n    msgType: MagicIncomingWindowMessage,\n    handler: (this: Window, event: MagicMessageEvent) => any,\n  ): RemoveEventListenerFunction {\n    const boundHandler = handler.bind(window);\n\n    // We cannot effectively cover this function because it never gets reference\n    // by value. The functionality of this callback is tested within\n    // `initMessageListener`.\n    /* istanbul ignore next */\n    const listener = (event: MagicMessageEvent) => {\n      if (event.data.msgType === `${msgType}-${this.parameters}`) boundHandler(event);\n    };\n\n    this.messageHandlers.add(listener);\n    return () => this.messageHandlers.delete(listener);\n  }\n\n  private waitForReady() {\n    return new Promise<void>((resolve) => {\n      this.on(MagicIncomingWindowMessage.MAGIC_OVERLAY_READY, () => resolve());\n    });\n  }\n\n  /**\n   * Listen for messages sent from the underlying Magic `<WebView>`.\n   */\n  private listen() {\n    this.on(MagicIncomingWindowMessage.MAGIC_HIDE_OVERLAY, () => {\n      this.hideOverlay();\n    });\n\n    this.on(MagicIncomingWindowMessage.MAGIC_SHOW_OVERLAY, () => {\n      this.showOverlay();\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}
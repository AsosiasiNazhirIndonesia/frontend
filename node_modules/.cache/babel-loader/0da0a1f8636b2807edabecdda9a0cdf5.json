{"ast":null,"code":"var _jsxFileName = \"C:\\\\spasi\\\\frontend\\\\src\\\\components\\\\Table\\\\TableCertificate.js\",\n  _s = $RefreshSig$();\nimport { Component, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { ACTOR, CERTIFICATE_STATUS } from \"../../constants/component.constant\";\nimport CertificateSet from \"../../contracts/digital_certificate\";\nimport { setDeleteSelectedData } from \"../../modules/actions/delete.action\";\nimport web3 from \"../../services/web3\";\nimport \"./Table.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default _s(props => {\n  _s();\n  const [certificateStatus, setCertificateStatus] = useState([]);\n  const dispatch = useDispatch();\n  const getAllCertificateStatus = async tokenId => {\n    const newCertificateStatus = {\n      ...certificateStatus\n    };\n    // for (const {scAddress} of props.certificates) {\n    // if (!web3.utils.isAddress(props.certificates[0].scAddress)) {\n    //   continue;\n    // }\n    const certificateSet = CertificateSet.getNewInstance(props.certificates[0].scAddress);\n    newCertificateStatus[0] = CERTIFICATE_STATUS[await certificateSet.methods.status(tokenId).call()];\n    // newCertificateStatus[scAddress] = CERTIFICATE_STATUS[await certificateSet.methods.status().call()];\n    // }\n    setCertificateStatus(newCertificateStatus);\n  };\n  useEffect(() => {\n    getAllCertificateStatus();\n  }, [props.certificates[0]]);\n  const renderTableData = () => {\n    return props.certificates.map((certificate, index) => {\n      const {\n        id,\n        date,\n        documentName,\n        sendTo,\n        signaturedBy,\n        status,\n        scAddress,\n        tokenId\n      } = certificate; //destructuring\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: documentName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: sendTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: signaturedBy\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: certificateStatus[0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            style: {\n              color: \"black\"\n            },\n            to: `/dashboard/${props.actor}?menu=manage-certificate&view_certificate=true&certificate_id=${id}`,\n            children: \"View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), props.actor === ACTOR.ADMIN ? ',' : '', props.actor === ACTOR.ADMIN ? /*#__PURE__*/_jsxDEV(Link, {\n            style: {\n              color: \"red\"\n            },\n            to: \"\",\n            onClick: e => {\n              e.preventDefault();\n              props.setIsDelete(true);\n              dispatch(setDeleteSelectedData(certificate));\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  const renderTableHeader = () => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Document Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Send To\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Signed By\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Action\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"certificate-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: renderTableHeader()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        className: \"content-table\",\n        children: renderTableData(props)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}, \"XHfKtL2KHXHYfrnR+NRWyStFZ00=\", false, function () {\n  return [useDispatch];\n});","map":{"version":3,"names":["Component","useEffect","useState","useDispatch","Link","ACTOR","CERTIFICATE_STATUS","CertificateSet","setDeleteSelectedData","web3","jsxDEV","_jsxDEV","Fragment","_Fragment","_s","props","certificateStatus","setCertificateStatus","dispatch","getAllCertificateStatus","tokenId","newCertificateStatus","certificateSet","getNewInstance","certificates","scAddress","methods","status","call","renderTableData","map","certificate","index","id","date","documentName","sendTo","signaturedBy","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","to","actor","ADMIN","onClick","e","preventDefault","setIsDelete","renderTableHeader","className"],"sources":["C:/spasi/frontend/src/components/Table/TableCertificate.js"],"sourcesContent":["import { Component, useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ACTOR, CERTIFICATE_STATUS } from \"../../constants/component.constant\";\r\nimport CertificateSet from \"../../contracts/digital_certificate\";\r\nimport { setDeleteSelectedData } from \"../../modules/actions/delete.action\";\r\nimport web3 from \"../../services/web3\";\r\nimport \"./Table.scss\";\r\n\r\nexport default (props) => {\r\n  const [certificateStatus, setCertificateStatus] = useState([]);\r\n  const dispatch = useDispatch();\r\n  \r\n  const getAllCertificateStatus = async (tokenId) => {\r\n    const newCertificateStatus = { ...certificateStatus };\r\n    // for (const {scAddress} of props.certificates) {\r\n      // if (!web3.utils.isAddress(props.certificates[0].scAddress)) {\r\n      //   continue;\r\n      // }\r\n      const certificateSet = CertificateSet.getNewInstance(props.certificates[0].scAddress);\r\n      newCertificateStatus[0] = CERTIFICATE_STATUS[await certificateSet.methods.status(tokenId).call()];\r\n      // newCertificateStatus[scAddress] = CERTIFICATE_STATUS[await certificateSet.methods.status().call()];\r\n    // }\r\n    setCertificateStatus(newCertificateStatus);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllCertificateStatus();\r\n  }, [props.certificates[0]] );\r\n\r\n  const renderTableData = () => {\r\n    return props.certificates.map((certificate, index) => {\r\n      const { id, date, documentName, sendTo, signaturedBy, status, scAddress, tokenId } = certificate; //destructuring\r\n      return (\r\n        <tr key={id}>\r\n          <td>{date}</td>\r\n          <td>{documentName}</td>\r\n          <td>{sendTo}</td>\r\n          <td>{signaturedBy}</td>\r\n          <td>{certificateStatus[0]}</td>\r\n          <td>\r\n            <Link\r\n              style={{ color: \"black\" }}\r\n              to={`/dashboard/${props.actor}?menu=manage-certificate&view_certificate=true&certificate_id=${id}`}\r\n            >\r\n              View\r\n            </Link>\r\n            {props.actor === ACTOR.ADMIN ? ',' : ''}\r\n            {props.actor === ACTOR.ADMIN ?\r\n            <Link\r\n              style={{ color: \"red\" }}\r\n              to=\"\"\r\n              onClick={(e) => {\r\n                e.preventDefault();\r\n                props.setIsDelete(true);\r\n                dispatch(setDeleteSelectedData(certificate));\r\n              }}\r\n            >\r\n              Delete\r\n            </Link> : <></>}\r\n          </td>\r\n        </tr>\r\n      );\r\n    });\r\n  }\r\n\r\n  const renderTableHeader = () => {\r\n    return (\r\n      <tr>\r\n        <th>Date</th>\r\n        <th>Document Name</th>\r\n        <th>Send To</th>\r\n        <th>Signed By</th>\r\n        <th>Status</th>\r\n        <th>Action</th>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <table className=\"certificate-table\">\r\n        <thead>{renderTableHeader()}</thead>\r\n        <tbody className=\"content-table\">\r\n          {renderTableData(props)}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}